<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>STM32标准库</title>
      <link href="/2024/12/12/STM32%E6%A0%87%E5%87%86%E5%BA%93/"/>
      <url>/2024/12/12/STM32%E6%A0%87%E5%87%86%E5%BA%93/</url>
      
        <content type="html"><![CDATA[<h1 id="GPIO通用输入-输出"><a href="#GPIO通用输入-输出" class="headerlink" title="GPIO通用输入/输出"></a>GPIO通用输入/输出</h1><p>GPIO驱动可以用作多个用途，包括管脚设置，单位设置/重置，锁定机制，从端口管脚读入或者向端口管脚写入数据</p><div class="tabs"><div class="nav-tabs"><button type="button" class="tab active">库函数</button><button type="button" class="tab">寄存器</button></div><div class="tab-contents"><div class="tab-item-content active"><div class="note icon-padding modern"><i class="note-icon fab fa-github"></i><p><strong><a href="https://github.com/choomoray/choomoray.github.io/blob/RII/%E6%96%87%E4%BB%B6/STM32/Library/stm32f10x_gpio.h">stm32f10x_gpio.h</a></strong></p></div> <div class="note icon-padding modern"><i class="note-icon fab fa-github"></i><p><strong><a href="https://github.com/choomoray/choomoray.github.io/blob/RII/%E6%96%87%E4%BB%B6/STM32/Library/stm32f10x_gpio.c">stm32f10x_gpio.c</a></strong></p></div><div class="table-container"><table><thead><tr><th>函数名</th><th>描述</th></tr></thead><tbody><tr><td>GPIO_DeInit</td><td>将外设 GPIOx 寄存器重设为缺省值</td></tr><tr><td>GPIO_AFIODeInit</td><td>将复用功能（重映射事件控制和 EXTI 设置）重设为缺省值</td></tr><tr><td><strong><a href="#GPIO-Init">GPIO_Init</a></strong></td><td>根据 GPIO_InitStruct 中指定的参数初始化外设 GPIOx 寄存器</td></tr><tr><td>GPIO_StructInit</td><td>把 GPIO_InitStruct 中的每一个参数按缺省值填入</td></tr><tr><td>GPIO_ReadInputDataBit</td><td>读取指定端口管脚的输入</td></tr><tr><td>GPIO_ReadInputData</td><td>读取指定的 GPIO 端口输入</td></tr><tr><td>GPIO_ReadOutputDataBit</td><td>读取指定端口管脚的输出</td></tr><tr><td>GPIO_ReadOutputData</td><td>读取指定的 GPIO 端口输出</td></tr><tr><td>GPIO_SetBits</td><td>设置指定的数据端口位</td></tr><tr><td>GPIO_ResetBits</td><td>清除指定的数据端口位</td></tr><tr><td>GPIO_WriteBit</td><td>设置或者清除指定的数据端口位</td></tr><tr><td>GPIO_Write</td><td>向指定 GPIO 数据端口写入数据</td></tr><tr><td>GPIO_PinLockConfig</td><td>锁定 GPIO 管脚设置寄存器</td></tr><tr><td>GPIO_EventOutputConfig</td><td>选择 GPIO 管脚用作事件输出</td></tr><tr><td>GPIO_EventOutputCmd</td><td>使能或者失能事件输出</td></tr><tr><td>GPIO_PinRemapConfig</td><td>改变指定管脚的映射</td></tr><tr><td>GPIO_EXTILineConfig</td><td>选择 GPIO 管脚用作外部中断线路</td></tr></tbody></table></div></div><div class="tab-item-content"><div class="table-container"><table><thead><tr><th>寄存器</th><th>描述</th></tr></thead><tbody><tr><td>CRL</td><td>端口配置低寄存器</td></tr><tr><td>CRH</td><td>端口配置高寄存器</td></tr><tr><td>IDR</td><td>端口输入数据寄存器</td></tr><tr><td>ODR</td><td>端口输出数据寄存器</td></tr><tr><td>BSRR</td><td>端口位设置/复位寄存器</td></tr><tr><td>BRR</td><td>端口位复位寄存器</td></tr><tr><td>LCKR</td><td>端口配置锁定寄存器</td></tr><tr><td>EVCR</td><td>事件控制寄存器</td></tr><tr><td>MAPR</td><td>复用重映射和调试I/O配置寄存器</td></tr><tr><td>EXTICR</td><td>外部中断线路0-15配置寄存器</td></tr></tbody></table></div><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> &#123;</span></span><br><span class="line">    vu32 CRL;</span><br><span class="line">    vu32 CRH;</span><br><span class="line">    vu32 IDR;</span><br><span class="line">    vu32 ODR;</span><br><span class="line">    vu32 BSRR;</span><br><span class="line">    vu32 BRR;</span><br><span class="line">    vu32 LCKR;</span><br><span class="line">&#125;</span><br><span class="line">GPIO_TypeDef;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> &#123;</span></span><br><span class="line">    vu32 EVCR;</span><br><span class="line">    vu32 MAPR;</span><br><span class="line">    vu32 EXTICR[<span class="number">4</span>];</span><br><span class="line">&#125;</span><br><span class="line">AFIO_TypeDef;</span><br></pre></td></tr></table></figure></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div><h2 id="GPIO-Init"><a href="#GPIO-Init" class="headerlink" title="GPIO_Init"></a>GPIO_Init</h2><div class="tabs"><div class="nav-tabs"><button type="button" class="tab active">函数</button><button type="button" class="tab">源码</button><button type="button" class="tab">使用</button></div><div class="tab-contents"><div class="tab-item-content active"><div class="table-container"><table><thead><tr><th>函数原形</th><th>void GPIO_Init(GPIO_TypeDef<em> GPIOx, GPIO_InitTypeDef</em> GPIO_InitStruct)</th></tr></thead><tbody><tr><td>功能描述</td><td>根据 GPIO_InitStruct 中指定的参数初始化外设 GPIOx 寄存器</td></tr><tr><td>输入参数 1</td><td>GPIOx：x 可以是 A，B，C，D 或者 E，来选择 GPIO 外设</td></tr><tr><td>输入参数 2</td><td>GPIO_InitStruct：指向结构 GPIO_InitTypeDef 的指针，包含了外设 GPIO 的配置信息</td></tr><tr><td>输出参数</td><td>无</td></tr><tr><td>返回值</td><td>无</td></tr><tr><td>先决条件</td><td>无</td></tr><tr><td>被调用函数</td><td>无</td></tr></tbody></table></div><h3 id="GPIO-InitTypeDef-structure"><a href="#GPIO-InitTypeDef-structure" class="headerlink" title="GPIO_InitTypeDef structure"></a><strong>GPIO_InitTypeDef structure</strong></h3><p>GPIO_InitTypeDef 定义于文件“stm32f10x_gpio.h”：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> &#123;</span></span><br><span class="line">    u16 GPIO_Pin;</span><br><span class="line">    GPIOSpeed_TypeDef GPIO_Speed;</span><br><span class="line">    GPIOMode_TypeDef GPIO_Mode;</span><br><span class="line">&#125;</span><br><span class="line">GPIO_InitTypeDef;</span><br></pre></td></tr></table></figure><div class="tabs"><div class="nav-tabs"><button type="button" class="tab">Pin</button><button type="button" class="tab active">Speed</button><button type="button" class="tab">Mode</button></div><div class="tab-contents"><div class="tab-item-content"><p>该参数选择待设置的 GPIO 管脚，使用操作符“<code>|</code>”可以一次选中多个管脚。可以使用下表中的任意组合。</p><div class="table-container"><table><thead><tr><th>GPIO_Pin</th><th>描述</th></tr></thead><tbody><tr><td>GPIO_Pin_None</td><td>无管脚被选中</td></tr><tr><td>GPIO_Pin_0</td><td>选中管脚 0</td></tr><tr><td>GPIO_Pin_1</td><td>选中管脚 1</td></tr><tr><td>GPIO_Pin_2</td><td>选中管脚 2</td></tr><tr><td>GPIO_Pin_3</td><td>选中管脚 3</td></tr><tr><td>GPIO_Pin_4</td><td>选中管脚 4</td></tr><tr><td>GPIO_Pin_5</td><td>选中管脚 5</td></tr><tr><td>GPIO_Pin_6</td><td>选中管脚 6</td></tr><tr><td>GPIO_Pin_7</td><td>选中管脚 7</td></tr><tr><td>GPIO_Pin_8</td><td>选中管脚 8</td></tr><tr><td>GPIO_Pin_9</td><td>选中管脚 9</td></tr><tr><td>GPIO_Pin_10</td><td>选中管脚 10</td></tr><tr><td>GPIO_Pin_11</td><td>选中管脚 11</td></tr><tr><td>GPIO_Pin_12</td><td>选中管脚 12</td></tr><tr><td>GPIO_Pin_13</td><td>选中管脚 13</td></tr><tr><td>GPIO_Pin_14</td><td>选中管脚 14</td></tr><tr><td>GPIO_Pin_15</td><td>选中管脚 15</td></tr><tr><td>GPIO_Pin_All</td><td>选中全部管脚</td></tr></tbody></table></div></div><div class="tab-item-content active"><div class="table-container"><table><thead><tr><th>GPIO_Speed</th><th>描述</th></tr></thead><tbody><tr><td>GPIO_Speed_10MHz</td><td>最高输出速率 10MHz</td></tr><tr><td>GPIO_Speed_20MHz</td><td>最高输出速率 20MHz</td></tr><tr><td>GPIO_Speed_50MHz</td><td>最高输出速率 50MHz</td></tr></tbody></table></div></div><div class="tab-item-content"><p>GPIO_Mode 用以设置选中管脚的工作状态。</p><div class="table-container"><table><thead><tr><th>GPIO_Speed</th><th>描述</th></tr></thead><tbody><tr><td>GPIO_Mode_AIN</td><td>模拟输入</td></tr><tr><td>GPIO_Mode_IN_FLOATING</td><td>浮空输入</td></tr><tr><td>GPIO_Mode_IPD</td><td>下拉输入</td></tr><tr><td>GPIO_Mode_IPU</td><td>上拉输入</td></tr><tr><td>GPIO_Mode_Out_OD</td><td>开漏输出</td></tr><tr><td>GPIO_Mode_Out_PP</td><td>推挽输出</td></tr><tr><td>GPIO_Mode_AF_OD</td><td>复用开漏输出</td></tr><tr><td>GPIO_Mode_AF_PP</td><td>复用推挽输出</td></tr></tbody></table></div><div class="note warning flat"><ul><li><p>当某管脚设置为上拉或者下拉输入模式，使用寄存器 Px_BSRR 和 PxBRR</p></li><li><p>GPIO_Mode 允许同时设置 GPIO 方向（输入/输出）和对应的输入/输出设置，：位[7:4]对应 GPIO 方向，位[4:0]对应配置。GPIO 方向有如下索引</p><ul><li><p>GPIO 输入模式 = 0x00</p></li><li><p>GPIO 输出模式 = 0x01</p></li></ul></li></ul></div><div class="table-container"><table><thead><tr><th>GPIO方向</th><th>索引</th><th>名称</th><th>模式</th><th>设置</th><th>模式代码</th></tr></thead><tbody><tr><td>GPIO Input</td><td>0x00</td><td></td><td>GPIO_Mode_AIN</td><td>0x00</td><td>0x00</td></tr><tr><td></td><td></td><td></td><td>GPIO_Mode_IN_FLOATING</td><td>0x04</td><td>0x04</td></tr><tr><td></td><td></td><td></td><td>GPIO_Mode_IPD</td><td>0x08</td><td>0x28</td></tr><tr><td></td><td></td><td></td><td>GPIO_Mode_IPU</td><td>0x08</td><td>0x48</td></tr><tr><td>GPIO Output</td><td>0x01</td><td></td><td>GPIO_Mode_Out_OD</td><td>0x04</td><td>0x14</td></tr><tr><td></td><td></td><td></td><td>GPIO_Mode_Out_PP</td><td>0x00</td><td>0x10</td></tr><tr><td></td><td></td><td></td><td>GPIO_Mode_AF_OD</td><td>0x0C</td><td>0x1C</td></tr><tr><td></td><td></td><td></td><td>GPIO_Mode_AF_PP</td><td>0x08</td><td>0x18</td></tr></tbody></table></div></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><div class="tab-item-content"><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">GPIO_Init</span><span class="params">(GPIO_TypeDef* GPIOx, GPIO_InitTypeDef* GPIO_InitStruct)</span>;</span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @brief  Initializes the GPIOx peripheral according to the specified</span></span><br><span class="line"><span class="comment"> *         parameters in the GPIO_InitStruct.</span></span><br><span class="line"><span class="comment"> * @param  GPIOx: where x can be (A..G) to select the GPIO peripheral.</span></span><br><span class="line"><span class="comment"> * @param  GPIO_InitStruct: pointer to a GPIO_InitTypeDef structure that</span></span><br><span class="line"><span class="comment"> *         contains the configuration information for the specified GPIO peripheral.</span></span><br><span class="line"><span class="comment"> * @retval None</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">GPIO_Init</span><span class="params">(GPIO_TypeDef * GPIOx, GPIO_InitTypeDef * GPIO_InitStruct)</span> &#123;</span><br><span class="line">    <span class="type">uint32_t</span> currentmode = <span class="number">0x00</span>, currentpin = <span class="number">0x00</span>, pinpos = <span class="number">0x00</span>, pos = <span class="number">0x00</span>;</span><br><span class="line">    <span class="type">uint32_t</span> tmpreg = <span class="number">0x00</span>, pinmask = <span class="number">0x00</span>;</span><br><span class="line">    <span class="comment">/* Check the parameters */</span></span><br><span class="line">    assert_param(IS_GPIO_ALL_PERIPH(GPIOx));</span><br><span class="line">    assert_param(IS_GPIO_MODE(GPIO_InitStruct -&gt; GPIO_Mode));</span><br><span class="line">    assert_param(IS_GPIO_PIN(GPIO_InitStruct -&gt; GPIO_Pin));</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*---------------------------- GPIO Mode Configuration -----------------------*/</span></span><br><span class="line">    currentmode = ((<span class="type">uint32_t</span>) GPIO_InitStruct -&gt; GPIO_Mode) &amp; ((<span class="type">uint32_t</span>) <span class="number">0x0F</span>);</span><br><span class="line">    <span class="keyword">if</span> ((((<span class="type">uint32_t</span>) GPIO_InitStruct -&gt; GPIO_Mode) &amp; ((<span class="type">uint32_t</span>) <span class="number">0x10</span>)) != <span class="number">0x00</span>) &#123;</span><br><span class="line">        <span class="comment">/* Check the parameters */</span></span><br><span class="line">        assert_param(IS_GPIO_SPEED(GPIO_InitStruct -&gt; GPIO_Speed));</span><br><span class="line">        <span class="comment">/* Output mode */</span></span><br><span class="line">        currentmode |= (<span class="type">uint32_t</span>) GPIO_InitStruct -&gt; GPIO_Speed;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/*---------------------------- GPIO CRL Configuration ------------------------*/</span></span><br><span class="line">    <span class="comment">/* Configure the eight low port pins */</span></span><br><span class="line">    <span class="keyword">if</span> (((<span class="type">uint32_t</span>) GPIO_InitStruct -&gt; GPIO_Pin &amp; ((<span class="type">uint32_t</span>) <span class="number">0x00FF</span>)) != <span class="number">0x00</span>) &#123;</span><br><span class="line">        tmpreg = GPIOx -&gt; CRL;</span><br><span class="line">        <span class="keyword">for</span> (pinpos = <span class="number">0x00</span>; pinpos &lt; <span class="number">0x08</span>; pinpos++) &#123;</span><br><span class="line">            pos = ((<span class="type">uint32_t</span>) <span class="number">0x01</span>) &lt;&lt; pinpos;</span><br><span class="line">            <span class="comment">/* Get the port pins position */</span></span><br><span class="line">            currentpin = (GPIO_InitStruct -&gt; GPIO_Pin) &amp; pos;</span><br><span class="line">            <span class="keyword">if</span> (currentpin == pos) &#123;</span><br><span class="line">                pos = pinpos &lt;&lt; <span class="number">2</span>;</span><br><span class="line">                <span class="comment">/* Clear the corresponding low control register bits */</span></span><br><span class="line">                pinmask = ((<span class="type">uint32_t</span>) <span class="number">0x0F</span>) &lt;&lt; pos;</span><br><span class="line">                tmpreg &amp;= ~pinmask;</span><br><span class="line">                <span class="comment">/* Write the mode configuration in the corresponding bits */</span></span><br><span class="line">                tmpreg |= (currentmode &lt;&lt; pos);</span><br><span class="line">                <span class="comment">/* Reset the corresponding ODR bit */</span></span><br><span class="line">                <span class="keyword">if</span> (GPIO_InitStruct -&gt; GPIO_Mode == GPIO_Mode_IPD) &#123;</span><br><span class="line">                    GPIOx -&gt; BRR = (((<span class="type">uint32_t</span>) <span class="number">0x01</span>) &lt;&lt; pinpos);</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="comment">/* Set the corresponding ODR bit */</span></span><br><span class="line">                    <span class="keyword">if</span> (GPIO_InitStruct -&gt; GPIO_Mode == GPIO_Mode_IPU) &#123;</span><br><span class="line">                        GPIOx -&gt; BSRR = (((<span class="type">uint32_t</span>) <span class="number">0x01</span>) &lt;&lt; pinpos);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        GPIOx -&gt; CRL = tmpreg;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/*---------------------------- GPIO CRH Configuration ------------------------*/</span></span><br><span class="line">    <span class="comment">/* Configure the eight high port pins */</span></span><br><span class="line">    <span class="keyword">if</span> (GPIO_InitStruct -&gt; GPIO_Pin &gt; <span class="number">0x00FF</span>) &#123;</span><br><span class="line">        tmpreg = GPIOx -&gt; CRH;</span><br><span class="line">        <span class="keyword">for</span> (pinpos = <span class="number">0x00</span>; pinpos &lt; <span class="number">0x08</span>; pinpos++) &#123;</span><br><span class="line">            pos = (((<span class="type">uint32_t</span>) <span class="number">0x01</span>) &lt;&lt; (pinpos + <span class="number">0x08</span>));</span><br><span class="line">            <span class="comment">/* Get the port pins position */</span></span><br><span class="line">            currentpin = ((GPIO_InitStruct -&gt; GPIO_Pin) &amp; pos);</span><br><span class="line">            <span class="keyword">if</span> (currentpin == pos) &#123;</span><br><span class="line">                pos = pinpos &lt;&lt; <span class="number">2</span>;</span><br><span class="line">                <span class="comment">/* Clear the corresponding high control register bits */</span></span><br><span class="line">                pinmask = ((<span class="type">uint32_t</span>) <span class="number">0x0F</span>) &lt;&lt; pos;</span><br><span class="line">                tmpreg &amp;= ~pinmask;</span><br><span class="line">                <span class="comment">/* Write the mode configuration in the corresponding bits */</span></span><br><span class="line">                tmpreg |= (currentmode &lt;&lt; pos);</span><br><span class="line">                <span class="comment">/* Reset the corresponding ODR bit */</span></span><br><span class="line">                <span class="keyword">if</span> (GPIO_InitStruct -&gt; GPIO_Mode == GPIO_Mode_IPD) &#123;</span><br><span class="line">                    GPIOx -&gt; BRR = (((<span class="type">uint32_t</span>) <span class="number">0x01</span>) &lt;&lt; (pinpos + <span class="number">0x08</span>));</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">/* Set the corresponding ODR bit */</span></span><br><span class="line">                <span class="keyword">if</span> (GPIO_InitStruct -&gt; GPIO_Mode == GPIO_Mode_IPU) &#123;</span><br><span class="line">                    GPIOx -&gt; BSRR = (((<span class="type">uint32_t</span>) <span class="number">0x01</span>) &lt;&lt; (pinpos + <span class="number">0x08</span>));</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        GPIOx -&gt; CRH = tmpreg;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-item-content"><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">main</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    RCC_APB2PeriphClockCmd(RCC_APB2Periph_GPIOB, ENABLE);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 1.声明 GPIOB_InitStructure</span></span><br><span class="line">    GPIO_InitTypeDef GPIOB_InitStructure;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 2.配置 GPIOB_InitStructure</span></span><br><span class="line">    GPIOB_InitStructure.GPIO_Mode = GPIO_Mode_IPU;</span><br><span class="line">    GPIOB_InitStructure.GPIO_Pin = GPIO_Pin_12 | GPIO_Pin_15;</span><br><span class="line">    GPIOB_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 3.配置 GPIO_Init</span></span><br><span class="line">    GPIO_Init(GPIOB, &amp;GPIOB_InitStructure);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div>]]></content>
      
      
      
        <tags>
            
            <tag> STM32 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>STM32学习</title>
      <link href="/2024/12/03/STM32%E5%AD%A6%E4%B9%A0/"/>
      <url>/2024/12/03/STM32%E5%AD%A6%E4%B9%A0/</url>
      
        <content type="html"><![CDATA[<h1 id="Day2"><a href="#Day2" class="headerlink" title="Day2"></a>Day2</h1><h1 id="Day1"><a href="#Day1" class="headerlink" title="Day1"></a>Day1</h1><h2 id="创建工程-…"><a href="#创建工程-…" class="headerlink" title="创建工程(…)"></a>创建工程(…)</h2><div class="tabs"><div class="nav-tabs"><button type="button" class="tab active">模板下载</button><button type="button" class="tab">详细步骤</button><button type="button" class="tab">VsCode</button></div><div class="tab-contents"><div class="tab-item-content active"><p>工程创建实在是太复杂了，这边建议直接复制以前写好的工程呢【<a href="https://github.com/choomoray/choomoray.github.io/blob/RII/%E6%96%87%E4%BB%B6/STM32/STM32%E5%B7%A5%E7%A8%8B%E6%A8%A1%E6%9D%BF.zip">工程模板下载</a>】</p></div><div class="tab-item-content"><p>详细步骤见视频【<a href="https://www.bilibili.com/video/BV1th411z7sn?t=228.8&amp;p=4">江科大STM32</a>】</p></div><div class="tab-item-content"><p>使用官方扩展程序【Keil Assistant】可以在工程项目创建好的情况下写代码，但是文件添加等操作还是要在keil上完成</p></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div><h2 id="点亮LED"><a href="#点亮LED" class="headerlink" title="点亮LED"></a>点亮LED</h2><div class="tabs"><div class="nav-tabs"><button type="button" class="tab active">1</button><button type="button" class="tab">代码实现</button><button type="button" class="tab">要点</button></div><div class="tab-contents"><div class="tab-item-content active"><p>STM32学习摒弃了C51单片机的寄存器编程，使用更便捷的标准库函数编程</p><p>LED小灯有两个针脚，较长的接电源正极，较短的接地</p><p>STM32最小系统接通电源时，所有的针脚默认高电平，因此想让LED灯亮起共有两种接法：</p><ol><li>LED长针脚接电源正极，短针脚接STM32</li><li>LED短针脚接电源负极，长针脚接STM32</li></ol><p>上面两种接法使用到了STM32的两种输出模式，分别是：推挽输出和（…）</p><ol><li>长针脚接电源正极，电源供能，因此只需要STM32变换端口高低电平就可控制LED灯的亮灭</li><li>长针脚接电源负极，由STM32供能，需要注意的是STM32电压可能不足以让LED亮起，因此需要放大端口电压才能控制LED正常亮灭</li></ol></div><div class="tab-item-content"><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">RCC_APB2PeriphClockCmd(RCC_APB2Periph_GPIOA, ENABLE);</span><br><span class="line"></span><br><span class="line">GPIO_InitTypeDef GPIOA_InitStructure;</span><br><span class="line">GPIOA_InitStructure.GPIO_Mode = GPIO_Mode_Out_PP;</span><br><span class="line">GPIOA_InitStructure.GPIO_Pin = GPIO_Pin_0 | GPIO_Pin_2;</span><br><span class="line">GPIOA_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;</span><br><span class="line">GPIO_Init(GPIOA, &amp;GPIOA_InitStructure);</span><br><span class="line"></span><br><span class="line">GPIO_ResetBits(GPIOA, GPIO_Pin_0);</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> (<span class="number">1</span>)</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-item-content"></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div><h2 id="回顾"><a href="#回顾" class="headerlink" title="回顾"></a>回顾</h2><details class="folding-tag" ID><summary> GPIO八种模式是什么及应用场景 </summary>              <div class='content'>                            </div>            </details>]]></content>
      
      
      
    </entry>
    
    
  
  
    
    
    <entry>
      <title>日志</title>
      <link href="/backup/MINE.html"/>
      <url>/backup/MINE.html</url>
      
        <content type="html"><![CDATA[<p>test</p>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>51单片机STC82C52RC入门学习</title>
      <link href="/backup/51%E5%8D%95%E7%89%87%E6%9C%BASTC82C52RC%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0.html"/>
      <url>/backup/51%E5%8D%95%E7%89%87%E6%9C%BASTC82C52RC%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0.html</url>
      
        <content type="html"><![CDATA[<h1 id="原理图集"><a href="#原理图集" class="headerlink" title="原理图集"></a>原理图集</h1><div class="tabs"><div class="nav-tabs"><button type="button" class="tab active">STC89C52单片机核心</button><button type="button" class="tab">LED</button><button type="button" class="tab">独立按键</button><button type="button" class="tab">矩阵按键</button><button type="button" class="tab">DS18B20</button><button type="button" class="tab">蜂鸣器</button><button type="button" class="tab">红外接收器</button><button type="button" class="tab">DS1302时钟</button><button type="button" class="tab">74HC138译码器</button><button type="button" class="tab">74HC595(串转并)</button><button type="button" class="tab">LCD1602接口</button><button type="button" class="tab">LCD12864</button><button type="button" class="tab">8*8LED点阵</button><button type="button" class="tab">动态数码管</button><button type="button" class="tab">ADC</button><button type="button" class="tab">DAC(PWM)</button><button type="button" class="tab">EEPROM</button><button type="button" class="tab">USB转TTL下载</button><button type="button" class="tab">DC5V电源</button><button type="button" class="tab">NRF24L01接口</button><button type="button" class="tab">五线四项步进电机</button></div><div class="tab-contents"><div class="tab-item-content active"><p><img src="https://img2.imgtp.com/2024/05/27/ayxjQQZt.png" alt="STC89C52单片机核心"></p></div><div class="tab-item-content"><p><img src="https://img2.imgtp.com/2024/05/27/vucwMJGY.png" alt="LED"></p></div><div class="tab-item-content"><p><img src="https://img2.imgtp.com/2024/05/27/ItJj9arF.png" alt="独立按键"></p></div><div class="tab-item-content"><p><img src="https://img2.imgtp.com/2024/05/27/7p3bvlge.png" alt="矩阵按键"></p></div><div class="tab-item-content"><p><img src="https://img2.imgtp.com/2024/05/27/WL6Wpl4d.png" alt="DS18B20"></p></div><div class="tab-item-content"><p><img src="https://img2.imgtp.com/2024/05/27/vq1kJQEj.png" alt="蜂鸣器"></p></div><div class="tab-item-content"><p><img src="https://img2.imgtp.com/2024/05/27/lY2t4x1O.png" alt="红外接收器"></p></div><div class="tab-item-content"><p><img src="https://img2.imgtp.com/2024/05/27/kVQxqej6.png" alt="DS1302时钟"></p></div><div class="tab-item-content"><p><img src="https://img2.imgtp.com/2024/05/27/xx3n8UcH.png" alt="74HC138译码器"></p></div><div class="tab-item-content"><p><img src="https://img2.imgtp.com/2024/05/27/tfJU3RG4.png" alt="74HC595（串转并）"></p></div><div class="tab-item-content"><p><img src="https://img2.imgtp.com/2024/05/27/1u1ryCMP.png" alt="LCD1602接口"></p></div><div class="tab-item-content"><p><img src="https://img2.imgtp.com/2024/05/27/Oqef8hV3.png" alt="LCD12864"></p></div><div class="tab-item-content"><p><img src="https://img2.imgtp.com/2024/05/27/606HKZJS.png" alt="8*8LED点阵"></p></div><div class="tab-item-content"><p><img src="https://img2.imgtp.com/2024/05/27/x1GirABt.png" alt="动态数码管"></p></div><div class="tab-item-content"><p><img src="https://img2.imgtp.com/2024/05/27/fzv3gik7.png" alt="ADC"></p></div><div class="tab-item-content"><p><img src="https://img2.imgtp.com/2024/05/27/Pcsj0Owf.png" alt="DAC（PWM）" style="zoom:80%;" /></p></div><div class="tab-item-content"><p><img src="https://img2.imgtp.com/2024/05/27/tYyiCmWM.png" alt="EEPROM"></p></div><div class="tab-item-content"><p><img src="https://img2.imgtp.com/2024/05/27/0p0dt2kH.png" alt="USB转TTL下载"></p></div><div class="tab-item-content"><p><img src="https://img2.imgtp.com/2024/05/27/JSuJ4kPb.png" alt="DC5V电源"></p></div><div class="tab-item-content"><p><img src="https://img2.imgtp.com/2024/05/27/di7Ili9e.png" alt="NRF24L01接口"></p></div><div class="tab-item-content"><p><img src="https://img2.imgtp.com/2024/05/27/4sqEwmI8.png" alt="五线四项步进电机"></p></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div><h1 id="LED"><a href="#LED" class="headerlink" title="LED"></a>LED</h1><div class="note no-icon flat"><p><strong>发光二极管</strong>（<strong>Light Emitting Diode</strong>）</p></div><h2 id="点灯"><a href="#点灯" class="headerlink" title="点灯"></a>点灯</h2><div class="tabs"><div class="nav-tabs"><button type="button" class="tab active">Keil C51</button><button type="button" class="tab">STC-ISP</button></div><div class="tab-contents"><div class="tab-item-content active"><p><img src="https://img2.imgtp.com/2024/05/27/Uab3hpg6.png" style="zoom:50%;" /></p><div class="note no-icon flat"><p><strong><code>Keil uVision</code> 有很多版本，<code>STC89C51RC</code>单片机用的是C51版本</strong></p></div><p>使用Keil编写程序：</p><p><strong>Project</strong> → <strong>new vision project</strong> → 选存放位置 → 选择 <strong>AT89C52</strong>单片机 →  创建完毕 → 在<strong>Options for Target的Output选项卡</strong>下点选上<strong>Create HEX_File</strong>，这样就可以编译后生成可烧录文件了</p><p><strong>Target/Source Group</strong> 下右键，<strong>ADD NEW</strong>为新建一个文件，<strong>ADD Existing</strong>为添加文件目录下的其他文件</p><div class="tabs"><div class="nav-tabs"><button type="button" class="tab active">原理</button><button type="button" class="tab">实现</button></div><div class="tab-contents"><div class="tab-item-content active"><p>工欲善其事必先利其器，在写代码之前需要看懂原理图：</p><p><img src="https://img2.imgtp.com/2024/05/27/vucwMJGY.png" style="zoom:50%;" /></p><p>8个LED灯珠并联在一个VCC电源上，又分别串联一个电阻连接到单片机P2_0~P2_7接口上，想要让LED灯珠亮起，必须让两侧产生电压差，因此控制单片机P2接口让其为<strong>低电平</strong>即可点亮灯珠。</p><p>现在我们要让第三个LED亮起，有下面几种方法：</p><ol><li>单独控制第三个LED灯的接口<strong>P2_2 = 0</strong></li><li>控制P2整组接口使<strong>P2 = 0xfb</strong>（1111 1011）</li></ol></div><div class="tab-item-content"><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;REGX52.H&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    P2 = <span class="number">0xfb</span>;<span class="comment">// 1111 1011</span></span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>)&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><div class="tab-item-content"><p><img src="https://img2.imgtp.com/2024/05/27/wqprMZMI.png" alt=""></p><p>单片机型号选择 <strong><code>STC89C52RC/LE52RC</code></strong>，其他系统默认，选择好程序文件点击下载/编程，重启单片机即可完成烧录</p></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div><h2 id="闪烁"><a href="#闪烁" class="headerlink" title="闪烁"></a>闪烁</h2><h3 id="延时函数-Delay"><a href="#延时函数-Delay" class="headerlink" title="延时函数 Delay()"></a>延时函数 Delay()</h3><div class="note no-icon flat"><p>循环控制LED的亮灭实现LED的闪烁，使用<code>STC-ISP</code>能够生成需要的延时函数：</p></div><div class="tabs"><div class="nav-tabs"><button type="button" class="tab active">Delay延时函数</button><button type="button" class="tab">在STC-ISP中生成</button><button type="button" class="tab">闪烁实现</button></div><div class="tab-contents"><div class="tab-item-content active"><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * @brief以毫秒为单位的延时函数 @11.0592MHz</span></span><br><span class="line"><span class="comment"> * @paramxms延时时间</span></span><br><span class="line"><span class="comment"> * @retval无</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">Delay</span><span class="params">(<span class="type">unsigned</span> <span class="type">int</span> xms)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> i, j;</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span>(xms--)&#123;</span><br><span class="line">i = <span class="number">2</span>;</span><br><span class="line">j = <span class="number">199</span>;</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">while</span> (--j);</span><br><span class="line">&#125; <span class="keyword">while</span> (--i);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-item-content"><p><img src="https://img2.imgtp.com/2024/05/27/ChDiJHnS.png" alt="Delay延时函数"></p><p>在右上角部分找到<strong>软件延时计算器</strong>：</p><p><code>系统频率</code>：单片机晶振上标有</p><p><code>定时长度</code>：自定</p><p><code>指令集</code>：选择包含自己用的单片机指令集即可</p></div><div class="tab-item-content"><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;REGX52.H&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;INTRINS.H&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">Delay</span><span class="params">(<span class="type">unsigned</span> <span class="type">int</span> xms)</span><span class="comment">//@11.0592MHz 1ms</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> i, j;</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span>(xms--)&#123;</span><br><span class="line">_nop_();</span><br><span class="line">i = <span class="number">2</span>;</span><br><span class="line">j = <span class="number">199</span>;</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">while</span> (--j);</span><br><span class="line">&#125; <span class="keyword">while</span> (--i);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line"><span class="keyword">while</span>(<span class="number">1</span>)&#123;</span><br><span class="line">P2 = <span class="number">0xff</span>;</span><br><span class="line">Delay(<span class="number">500</span>);</span><br><span class="line">P2 = ~<span class="number">0xff</span>;</span><br><span class="line">Delay(<span class="number">500</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div><h2 id="跑马灯"><a href="#跑马灯" class="headerlink" title="跑马灯"></a>跑马灯</h2><div class="tabs"><div class="nav-tabs"><button type="button" class="tab active">原理</button><button type="button" class="tab">实现</button></div><div class="tab-contents"><div class="tab-item-content active"><div class="note default disabled"><p><strong>按顺序逐一点亮LED，并通过延时程序让其可被观察到</strong></p></div><p>最简单的方法就是控制一个灯一个灯的点亮</p><p>进阶操作应该去使用C语言的特性去实现，也就是位操作：</p><p>前面说到：让P2口置0LED才会亮起，所以我们先假设让0x01亮第一个灯，只要保证0x01左移就可以让灯跑起来：</p><div class="note no-icon flat"><p>0000 000<font color=red>1</font></p><p>0000 00<font color=red>1</font>0</p><p>0000 0<font color=red>1</font>00 …</p></div><p>所以我们需要一个值来记录灯的位置，当灯到达边缘需要即时让灯重置位置。</p><div class="note primary disabled"><font color=purple>进阶操作：另外加一个灯，让它跟在第一个灯后面</font></div><p>这里使用到了<code>与或非</code>的知识：</p><div class="note no-icon flat"><p>与 &amp;：同为1结果为1</p><p>或 |：任意为1结果为1</p><p>非 ~：结果相反</p></div><p>还是很简单的，用另一个变量记录上一个变量的值就可以了，最后在赋值时将两个变量进行求或操作：</p><div class="note success disabled"><p>P2 = ~((0x01 &lt;&lt; num) | (0x01 &lt;&lt; tmp));</p></div><div class="note info disabled"><p>与或运算不使用<code>||</code>，使用<code>|</code>，多么痛的领悟</p></div></div><div class="tab-item-content"><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">unsigned</span> <span class="type">char</span> num = <span class="number">0</span>;<span class="comment">// 记录亮灯的位置</span></span><br><span class="line">P2 = ~<span class="number">0x01</span>;</span><br><span class="line"><span class="keyword">while</span>(<span class="number">1</span>)&#123;</span><br><span class="line">    <span class="keyword">if</span> (++num &gt; <span class="number">8</span>)&#123;<span class="comment">// 如果灯到达边缘，重置位置</span></span><br><span class="line">        num = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    P2 = ~(<span class="number">0x01</span> &lt;&lt; num);</span><br><span class="line">    Delay(<span class="number">200</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (++num &gt; <span class="number">8</span>)&#123;</span><br><span class="line">    num = <span class="number">0</span>;</span><br><span class="line">    tmp = <span class="number">8</span>;</span><br><span class="line">&#125;</span><br><span class="line">P2 = ~((<span class="number">0x01</span> &lt;&lt; num) | (<span class="number">0x01</span> &lt;&lt; tmp));</span><br><span class="line">tmp = num;</span><br></pre></td></tr></table></figure></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div><h1 id="独立按键"><a href="#独立按键" class="headerlink" title="独立按键"></a>独立按键</h1><h2 id="按键点灯"><a href="#按键点灯" class="headerlink" title="按键点灯"></a>按键点灯</h2><div class="tabs"><div class="nav-tabs"><button type="button" class="tab active">原理</button><button type="button" class="tab">实现</button></div><div class="tab-contents"><div class="tab-item-content active"><p><img src="https://img2.imgtp.com/2024/05/27/ItJj9arF.png" alt="独立按键"></p><p>四个独立按键并联在GND，又分别与P3寄存器串联，当按键按下时，P3接地为低电平，因此检测按键是否按下只需要看P3_0 - P3_3 是否为0</p></div><div class="tab-item-content"><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">P2_0 = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">while</span>(<span class="number">1</span>)&#123;</span><br><span class="line"><span class="keyword">if</span> (P3_1 == <span class="number">0</span>)&#123;</span><br><span class="line">P2_0 = <span class="number">0</span>;</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">P2_0 = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div><h2 id="按键消抖"><a href="#按键消抖" class="headerlink" title="按键消抖"></a>按键消抖</h2><div class="tabs"><div class="nav-tabs"><button type="button" class="tab active">原理</button><button type="button" class="tab">实现</button></div><div class="tab-contents"><div class="tab-item-content active"><p><img src="https://img2.imgtp.com/2024/05/27/oJ4OV2N7.png" style="zoom:67%;" /></p><div class="note no-icon flat"><p><strong>按键消抖是防止按键输入被CPU误读多次的必要手段</strong></p></div><p>按键所用开关为机械弹性开关，当机械触点断开、闭合时，由于机械触点的弹性作用，在闭合及断开的瞬间均伴随有一连串的抖动（大约5-10ms），为了不产生这种现象而作的措施就是按键消抖</p><p>按键消抖一般使用Delay延时函数覆盖整个按下抖动过程，也就是在检测到按键按下后等待20ms再次检测直到抬起，然后进入抬起消抖的20ms</p></div><div class="tab-item-content"><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span>(<span class="number">1</span>)&#123;</span><br><span class="line">    <span class="keyword">if</span> (P3_1 == <span class="number">0</span>)&#123;</span><br><span class="line">        Delay(<span class="number">20</span>);</span><br><span class="line">        <span class="keyword">while</span>(P3_1 == <span class="number">0</span>);</span><br><span class="line">        Delay(<span class="number">20</span>);</span><br><span class="line">        ...</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div><h2 id="按键控制LED移位"><a href="#按键控制LED移位" class="headerlink" title="按键控制LED移位"></a>按键控制LED移位</h2><div class="tabs"><div class="nav-tabs"><button type="button" class="tab active">原理</button><button type="button" class="tab">实现</button></div><div class="tab-contents"><div class="tab-item-content active"><p>按键控制LED位移主要用位操作实现，注意边界即可</p></div><div class="tab-item-content"><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line"><span class="type">char</span> location = <span class="number">0</span>;</span><br><span class="line">P2 = <span class="number">0xfe</span>;</span><br><span class="line"><span class="keyword">while</span>(<span class="number">1</span>)&#123;</span><br><span class="line"><span class="keyword">if</span>(P3_1 == <span class="number">0</span>)&#123;</span><br><span class="line">Delay(<span class="number">20</span>);</span><br><span class="line"><span class="keyword">while</span>(P3_1 == <span class="number">0</span>);</span><br><span class="line">Delay(<span class="number">20</span>);</span><br><span class="line">            </span><br><span class="line"><span class="keyword">if</span> (--location &lt; <span class="number">0</span>)&#123;</span><br><span class="line">location = <span class="number">7</span>;</span><br><span class="line">&#125;</span><br><span class="line">P2 = ~(<span class="number">0x01</span> &lt;&lt; location);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(P3_0 == <span class="number">0</span>)&#123;</span><br><span class="line">Delay(<span class="number">20</span>);</span><br><span class="line"><span class="keyword">while</span>(P3_0 == <span class="number">0</span>);</span><br><span class="line">Delay(<span class="number">20</span>);</span><br><span class="line">            </span><br><span class="line"><span class="keyword">if</span> (++location &gt; <span class="number">7</span>)&#123;</span><br><span class="line">location = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">P2 = ~(<span class="number">0x01</span> &lt;&lt; location);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div><h1 id="数码管"><a href="#数码管" class="headerlink" title="数码管"></a>数码管</h1><h2 id="点亮数码管"><a href="#点亮数码管" class="headerlink" title="点亮数码管"></a>点亮数码管</h2><div class="tabs"><div class="nav-tabs"><button type="button" class="tab active">原理</button><button type="button" class="tab">实现</button></div><div class="tab-contents"><div class="tab-item-content active"><div class="note no-icon flat"><p>数码管的原理还是挺复杂的，用到的器件除了两个数码管之外，还加了两个芯片：</p><p><code>74HC245驱动增强</code>和<code>74HC138译码器</code></p></div><p>先从两个数码管说起，八个COM子单元共阴极的一端并联在74HC138译码器上，由74HC138译码器连接到P2寄存器2、3、4端口，另一端分别并联后串联一个电阻接到74HC245上，然后由74HC245连接到P0寄存器。74HC245的作用：单片机输出的电流非常小，通过中继一个带电源的中间设备，将单片机由能量提供设备变成信号输出设备，使得数码管更亮。</p><p><img src="https://img2.imgtp.com/2024/05/27/x1GirABt.png" alt=""></p><div class="note no-icon flat"><p>现在我们要让LED6点亮，并让其值为6，需要走以下两步：</p><ol><li>通过74HC245让数码管显示6</li><li>通过74HC138译码器选择LED6显示 </li></ol></div><div class="note success no-icon flat"><p>第一步：数码管显示6需要点亮a c d e f 六个数码管，分别对应B0 B2 B3 B4 B5 B6 → A0 A2 A3 A4 A5 A6，即P0 = 0111 1101 = 0x7D（P0写法正好相反，是从高位到低位）</p></div><p><img src="https://img2.imgtp.com/2024/05/27/xx3n8UcH.png" style="zoom:40%;" /></p><div class="note no-icon flat"><p>根据P2寄存器的三个端口，按二进制的形式转化为低电平的Y0 - Y7</p></div><div class="note success no-icon flat"><p>第二步：让LED6亮起，需要P2_2 P2_3 P2_4（最低位） = Y5 = 101，即P2 = 0001 0100 = 0x14</p></div></div><div class="tab-item-content"><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line"><span class="keyword">while</span>(<span class="number">1</span>)&#123;</span><br><span class="line">P2 = <span class="number">0x14</span>;</span><br><span class="line">P0 = <span class="number">0x7D</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div><h2 id="动态数码管显示"><a href="#动态数码管显示" class="headerlink" title="动态数码管显示"></a>动态数码管显示</h2><div class="tabs"><div class="nav-tabs"><button type="button" class="tab active">原理</button><button type="button" class="tab">实现</button></div><div class="tab-contents"><div class="tab-item-content active"><p>实现多个数码管同时显示，理论上是不可能实现的，因为COM子单元在同一时间收到的信号是一样的，也就是在同一时间，数码管能且只能显示一个，但是通过<strong>视觉暂留</strong>可以让人有多个数码管在同时显示的错觉。</p><h3 id="数码管消影"><a href="#数码管消影" class="headerlink" title="数码管消影"></a>数码管消影</h3><div class="note no-icon flat"><p>数码管在快速位选段选中上一个数据会窜到下一位数据里，形成重影,只需要加入一个极短的延时（1ms）就可以解决，重置P0 = 0x00可解决重影问题。</p></div></div><div class="tab-item-content"><div class="tabs"><div class="nav-tabs"><button type="button" class="tab active">关键代码</button><button type="button" class="tab">实现</button></div><div class="tab-contents"><div class="tab-item-content active"><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//数码管段码表</span></span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> NixieTable[]=&#123;<span class="number">0x3F</span>,<span class="number">0x06</span>,<span class="number">0x5B</span>,<span class="number">0x4F</span>,<span class="number">0x66</span>,<span class="number">0x6D</span>,<span class="number">0x7D</span>,<span class="number">0x07</span>,<span class="number">0x7F</span>,<span class="number">0x6F</span>&#125;;</span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * @brief   数码管显示</span></span><br><span class="line"><span class="comment"> * @param   Location    显示位置</span></span><br><span class="line"><span class="comment"> * @param   Number  显示数字</span></span><br><span class="line"><span class="comment"> * @retval  无</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">Nixie</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> Location, Number)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">switch</span>(Location)<span class="comment">//位码输出</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">case</span> <span class="number">1</span>:P2_4=<span class="number">1</span>;P2_3=<span class="number">1</span>;P2_2=<span class="number">1</span>;<span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="number">2</span>:P2_4=<span class="number">1</span>;P2_3=<span class="number">1</span>;P2_2=<span class="number">0</span>;<span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="number">3</span>:P2_4=<span class="number">1</span>;P2_3=<span class="number">0</span>;P2_2=<span class="number">1</span>;<span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="number">4</span>:P2_4=<span class="number">1</span>;P2_3=<span class="number">0</span>;P2_2=<span class="number">0</span>;<span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="number">5</span>:P2_4=<span class="number">0</span>;P2_3=<span class="number">1</span>;P2_2=<span class="number">1</span>;<span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="number">6</span>:P2_4=<span class="number">0</span>;P2_3=<span class="number">1</span>;P2_2=<span class="number">0</span>;<span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="number">7</span>:P2_4=<span class="number">0</span>;P2_3=<span class="number">0</span>;P2_2=<span class="number">1</span>;<span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="number">8</span>:P2_4=<span class="number">0</span>;P2_3=<span class="number">0</span>;P2_2=<span class="number">0</span>;<span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">P0=NixieTable[Number];<span class="comment">//段码输出</span></span><br><span class="line">Delay(<span class="number">1</span>);</span><br><span class="line">P0 = <span class="number">0x00</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-item-content"><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">&#123;</span><br><span class="line">Nixie(<span class="number">1</span>,<span class="number">1</span>);</span><br><span class="line">Nixie(<span class="number">2</span>,<span class="number">2</span>);</span><br><span class="line">Nixie(<span class="number">3</span>,<span class="number">3</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div><h1 id="矩阵键盘"><a href="#矩阵键盘" class="headerlink" title="矩阵键盘"></a>矩阵键盘</h1><h2 id="检测矩阵键盘"><a href="#检测矩阵键盘" class="headerlink" title="检测矩阵键盘"></a>检测矩阵键盘</h2><div class="tabs"><div class="nav-tabs"><button type="button" class="tab active">原理</button><button type="button" class="tab">实现</button></div><div class="tab-contents"><div class="tab-item-content active"><p><img src="https://img2.imgtp.com/2024/05/27/7p3bvlge.png" style="zoom: 67%;" /></p><p>矩阵按键和独立按键相似，区别在于把独立按键的共阴极拆分成4个，原理也类似：检测时单独拿出一行或一列，比如P1_7，把P1_7置低电平（P1_4 P1_5 P1_6）检测P1_0 P1_1 P1_2 P1_3四个高电平谁变低电平谁就是被按下的按键。</p></div><div class="tab-item-content"><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * @brief  检测矩阵按键是否被按下</span></span><br><span class="line"><span class="comment">  * @param  无</span></span><br><span class="line"><span class="comment">  * @retval 按下的值</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> <span class="title function_">KeyDown</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">unsigned</span> <span class="type">char</span> KeyValue=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">P1=<span class="number">0xFF</span>;</span><br><span class="line">P1_3=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">if</span>(P1_7==<span class="number">0</span>)&#123;Delay(<span class="number">20</span>);<span class="keyword">while</span>(P1_7==<span class="number">0</span>);Delay(<span class="number">20</span>);KeyValue=<span class="number">1</span>;&#125;</span><br><span class="line"><span class="keyword">if</span>(P1_6==<span class="number">0</span>)&#123;Delay(<span class="number">20</span>);<span class="keyword">while</span>(P1_6==<span class="number">0</span>);Delay(<span class="number">20</span>);KeyValue=<span class="number">5</span>;&#125;</span><br><span class="line"><span class="keyword">if</span>(P1_5==<span class="number">0</span>)&#123;Delay(<span class="number">20</span>);<span class="keyword">while</span>(P1_5==<span class="number">0</span>);Delay(<span class="number">20</span>);KeyValue=<span class="number">9</span>;&#125;</span><br><span class="line"><span class="keyword">if</span>(P1_4==<span class="number">0</span>)&#123;Delay(<span class="number">20</span>);<span class="keyword">while</span>(P1_4==<span class="number">0</span>);Delay(<span class="number">20</span>);KeyValue=<span class="number">13</span>;&#125;</span><br><span class="line"></span><br><span class="line">P1=<span class="number">0xFF</span>;</span><br><span class="line">P1_2=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">if</span>(P1_7==<span class="number">0</span>)&#123;Delay(<span class="number">20</span>);<span class="keyword">while</span>(P1_7==<span class="number">0</span>);Delay(<span class="number">20</span>);KeyValue=<span class="number">2</span>;&#125;</span><br><span class="line"><span class="keyword">if</span>(P1_6==<span class="number">0</span>)&#123;Delay(<span class="number">20</span>);<span class="keyword">while</span>(P1_6==<span class="number">0</span>);Delay(<span class="number">20</span>);KeyValue=<span class="number">6</span>;&#125;</span><br><span class="line"><span class="keyword">if</span>(P1_5==<span class="number">0</span>)&#123;Delay(<span class="number">20</span>);<span class="keyword">while</span>(P1_5==<span class="number">0</span>);Delay(<span class="number">20</span>);KeyValue=<span class="number">10</span>;&#125;</span><br><span class="line"><span class="keyword">if</span>(P1_4==<span class="number">0</span>)&#123;Delay(<span class="number">20</span>);<span class="keyword">while</span>(P1_4==<span class="number">0</span>);Delay(<span class="number">20</span>);KeyValue=<span class="number">14</span>;&#125;</span><br><span class="line"></span><br><span class="line">P1=<span class="number">0xFF</span>;</span><br><span class="line">P1_1=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">if</span>(P1_7==<span class="number">0</span>)&#123;Delay(<span class="number">20</span>);<span class="keyword">while</span>(P1_7==<span class="number">0</span>);Delay(<span class="number">20</span>);KeyValue=<span class="number">3</span>;&#125;</span><br><span class="line"><span class="keyword">if</span>(P1_6==<span class="number">0</span>)&#123;Delay(<span class="number">20</span>);<span class="keyword">while</span>(P1_6==<span class="number">0</span>);Delay(<span class="number">20</span>);KeyValue=<span class="number">7</span>;&#125;</span><br><span class="line"><span class="keyword">if</span>(P1_5==<span class="number">0</span>)&#123;Delay(<span class="number">20</span>);<span class="keyword">while</span>(P1_5==<span class="number">0</span>);Delay(<span class="number">20</span>);KeyValue=<span class="number">11</span>;&#125;</span><br><span class="line"><span class="keyword">if</span>(P1_4==<span class="number">0</span>)&#123;Delay(<span class="number">20</span>);<span class="keyword">while</span>(P1_4==<span class="number">0</span>);Delay(<span class="number">20</span>);KeyValue=<span class="number">15</span>;&#125;</span><br><span class="line"></span><br><span class="line">P1=<span class="number">0xFF</span>;</span><br><span class="line">P1_0=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">if</span>(P1_7==<span class="number">0</span>)&#123;Delay(<span class="number">20</span>);<span class="keyword">while</span>(P1_7==<span class="number">0</span>);Delay(<span class="number">20</span>);KeyValue=<span class="number">4</span>;&#125;</span><br><span class="line"><span class="keyword">if</span>(P1_6==<span class="number">0</span>)&#123;Delay(<span class="number">20</span>);<span class="keyword">while</span>(P1_6==<span class="number">0</span>);Delay(<span class="number">20</span>);KeyValue=<span class="number">8</span>;&#125;</span><br><span class="line"><span class="keyword">if</span>(P1_5==<span class="number">0</span>)&#123;Delay(<span class="number">20</span>);<span class="keyword">while</span>(P1_5==<span class="number">0</span>);Delay(<span class="number">20</span>);KeyValue=<span class="number">12</span>;&#125;</span><br><span class="line"><span class="keyword">if</span>(P1_4==<span class="number">0</span>)&#123;Delay(<span class="number">20</span>);<span class="keyword">while</span>(P1_4==<span class="number">0</span>);Delay(<span class="number">20</span>);KeyValue=<span class="number">16</span>;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> KeyValue;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div><h1 id="LED点阵屏"><a href="#LED点阵屏" class="headerlink" title="LED点阵屏"></a>LED点阵屏</h1><h1 id="定时器-计数器"><a href="#定时器-计数器" class="headerlink" title="定时器/计数器"></a>定时器/计数器</h1><div class="tabs"><div class="nav-tabs"><button type="button" class="tab active">原理</button><button type="button" class="tab">用法</button><button type="button" class="tab">实现</button></div><div class="tab-contents"><div class="tab-item-content active"><p>单片机内部设置两个16位定时器/计数器，其核心部件是一个加法计数器，本质是对脉冲进行计数：如果计数脉冲来自系统时钟，则为定时方式，此时定时器每12个时钟或6个时钟得到一个计数脉冲，计数值加一；如果脉冲来自单片机外部引脚，则为计数方式，每来一个脉冲加一。</p><p>定时器寄存器由四部分组成：可位寻址TCON、不可位寻址TMOD、TL和TH：</p><p><img src="https://img2.imgtp.com/2024/05/27/uA5XMXbq.png" alt=""></p><div class="tabs"><div class="nav-tabs"><button type="button" class="tab active">TCON</button><button type="button" class="tab">TMOD</button><button type="button" class="tab">TL & TH</button><button type="button" class="tab">中断</button></div><div class="tab-contents"><div class="tab-item-content active"><p>控制寄存器</p><p><strong>TF</strong>：溢出中断标志位，当T0从初值开始加一计数到产生溢出时，由硬件使TF0置1，直到CPU响应中断由硬件复位</p><p><strong>TR</strong>：控制定时器运行，TR = 1开始计数</p></div><div class="tab-item-content"><p>模式寄存器</p><p>GATE：0：只需要软件就可以控制打开寄存器（常用）；1：需要INT1脚为高，TR1控制位置1才可以打开。</p><p>C/T：0：定时器；1：计数器。</p><p>M1 &amp; M2：模式选择：00：13位寄存器；01：16位寄存器（常用）；10：8位自动重装载寄存器；11：停止工作。</p><div class="note info disabled"><p>不可位寻址，赋值需要整体赋值，但TMOD又同时控制两个寄存器，所以在赋值时也有技巧，通过位操作可以实现高四位不变第四位赋值的操作：</p><p>TMOD &amp;= 0xF0;</p><p>TMOD |= 0x01;</p></div></div><div class="tab-item-content"><div class="note no-icon flat"><p><strong>TH &amp; TL</strong></p><p><img src="https://img2.imgtp.com/2024/05/27/XfY4tICX.png" alt=""></p><p>如下图：TH&amp;TL分别能存储8位共计一个周期计数66536个，当存满后溢出1到TF，然后进入下一周期，我们要做的就是通过程序记录TF然后将它置0循环往复，以此达到定时的效果。</p><p>一个周期65536us=65ms，可以设置TH&amp;TL的初值，让初值和65536的差值正好是我们需要的时间来设置定时时间。</p></div></div><div class="tab-item-content"><p>定时器部分完成，下面是简单了解的中断部分：</p><div class="note no-icon flat"><p>我们需要打开系统总中断允许和定时器中断下允许：<strong>EA</strong> &amp; <strong>ET</strong>，也需要设置中断次序<strong>PT</strong>（系统默认最低打断优先级）</p></div><p><p><img src="https://img2.imgtp.com/2024/05/27/g1ZARQl3.png" alt=""></p></p><p><p><img src="https://img2.imgtp.com/2024/05/27/rW4jm9rp.png" alt=""></p></p><div class="note no-icon flat"></div></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><div class="tab-item-content"><p>当时是选择自动生成！</p><p><img src="https://img2.imgtp.com/2024/05/27/16xyNVyG.png" style="zoom:100%;" /></p></div><div class="tab-item-content"><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * @brief定时器0中断初始化</span></span><br><span class="line"><span class="comment"> * @param无</span></span><br><span class="line"><span class="comment"> * @retval无</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">Timer0Init</span><span class="params">(<span class="type">void</span>)</span><span class="comment">//1毫秒@11.0592MHz</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">// AUXR &amp;= 0x7F;//定时器时钟12T模式</span></span><br><span class="line">TMOD &amp;= <span class="number">0xF0</span>;<span class="comment">//设置定时器模式</span></span><br><span class="line">TMOD |= <span class="number">0x01</span>;<span class="comment">//设置定时器模式</span></span><br><span class="line">TL0 = <span class="number">0x66</span>;<span class="comment">//设置定时初值</span></span><br><span class="line">TH0 = <span class="number">0xFC</span>;<span class="comment">//设置定时初值</span></span><br><span class="line">TF0 = <span class="number">0</span>;<span class="comment">//清除TF0标志</span></span><br><span class="line">TR0 = <span class="number">1</span>;<span class="comment">//定时器0开始计时</span></span><br><span class="line">    </span><br><span class="line">    ET0 = <span class="number">1</span>;<span class="comment">//打开定时器中断</span></span><br><span class="line">    EA = <span class="number">1</span>;<span class="comment">//打开系统中断</span></span><br><span class="line">    </span><br><span class="line">    PT0=<span class="number">0</span>;<span class="comment">//设置定时器中断优先级    </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    Timer0Init();</span><br><span class="line"><span class="keyword">while</span>(<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">Timer0_Routine</span><span class="params">()</span> interrupt 1&#123;</span><br><span class="line"><span class="type">static</span> <span class="type">unsigned</span> <span class="type">int</span> timer0Count = <span class="number">0</span>;</span><br><span class="line">TL0 = <span class="number">0x66</span>;</span><br><span class="line">    TH0 = <span class="number">0xfc</span>;</span><br><span class="line"><span class="keyword">if</span> (++timer0Count &gt;= <span class="number">1000</span>)&#123;</span><br><span class="line">timer0Count = <span class="number">0</span>;</span><br><span class="line">P2_0 = ~P2_0;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div><h1 id="串口通信"><a href="#串口通信" class="headerlink" title="串口通信"></a>串口通信</h1><h2 id="波特率计算器"><a href="#波特率计算器" class="headerlink" title="波特率计算器"></a>波特率计算器</h2><p>在STC-IPS软件中有波特率计算功能，注意参数配置就好了，误差比较大的时候可以勾选 波特率倍速SMOD 来降低误差</p><div class="table-container"><table><thead><tr><th style="text-align:center">系统频率</th><th style="text-align:center">波特率</th><th style="text-align:center">波特率倍速SMOD</th><th style="text-align:center">误差</th></tr></thead><tbody><tr><td style="text-align:center">11.0592MHz</td><td style="text-align:center">4800</td><td style="text-align:center">看情况勾选</td><td style="text-align:center">~</td></tr><tr><td style="text-align:center"><strong>UART选择</strong></td><td style="text-align:center"><strong>UART数据位</strong></td><td style="text-align:center"><strong>波特率发生器</strong></td><td style="text-align:center"><strong>定时器时钟</strong></td></tr><tr><td style="text-align:center">串口1</td><td style="text-align:center">8位数据</td><td style="text-align:center">定时器1（8位重载）</td><td style="text-align:center">12T（FOSC/12）</td></tr></tbody></table></div><p>发送和接受设备需要保持相同的波特率才能正确的传输数据，还有应尽可能<strong>不要将传输间隔小于误差值</strong>，可通过短暂的延时函数解决！</p><h1 id="I2C"><a href="#I2C" class="headerlink" title="I2C"></a>I2C</h1><div class="tabs"><div class="nav-tabs no-default"></div><div class="tab-contents"></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>PhotoShop快速上手</title>
      <link href="/backup/photoshop%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B.html"/>
      <url>/backup/photoshop%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B.html</url>
      
        <content type="html"><![CDATA[<h1 id="实用功能"><a href="#实用功能" class="headerlink" title="实用功能"></a>实用功能</h1><hr><h2 id="图片去白底"><a href="#图片去白底" class="headerlink" title="图片去白底"></a>图片去白底</h2><div class="note no-icon flat"><ol><li>导入图片，并且把锁定取消。<img src="https://img2.imgtp.com/2024/05/27/si7cTE8w.png" alt=""></li><li>选择<code>通道模式</code>，挨个点选找到黑色覆盖范围最合适的通道，<strong>拷贝该通道</strong>。<img src="https://img2.imgtp.com/2024/05/27/moocQVGn.png" alt=""></li><li><code>CTRL + L</code>进入色阶，把最左边的三角向右拉，推出色阶模式后<code>CTRL + 左键</code>目标选中。<img src="https://img2.imgtp.com/2024/05/27/UqrMrWx6.png" alt=""></li><li><code>CTRL + SHIFT + I</code>反选后<code>CTRL + J</code>得到去白底的图片。<img src="https://img2.imgtp.com/2024/05/27/5ZkdVsdk.png" alt=""></li></ol><div class="note info disabled"><p>可能是版本问题，我的PS在第四步需要先得到去白底图片，然后再删掉再反选才能真正得到去白底的图片。</p></div></div><hr>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>五笔打字练习</title>
      <link href="/backup/%E4%BA%94%E7%AC%94%E7%BB%83%E4%B9%A0.html"/>
      <url>/backup/%E4%BA%94%E7%AC%94%E7%BB%83%E4%B9%A0.html</url>
      
        <content type="html"><![CDATA[<p><img src="https://github.com/choomoray/choomoray.github.io/blob/RII/2024/20241129%E4%BA%94%E7%AC%94%E6%89%93%E5%AD%97%E7%BB%83%E4%B9%A0/%E4%BA%94%E7%AC%94%E5%AD%97%E6%A0%B9%E8%A1%A8.jpg?raw=true" alt="五笔字根表"></p><p><a href="D:\Documents\Code\choomoray.github.io\source\ggtt">编辑文件</a></p><h1 id="2024-12"><a href="#2024-12" class="headerlink" title="2024-12"></a>2024-12</h1><h2 id="12-04（171字-30分钟）"><a href="#12-04（171字-30分钟）" class="headerlink" title="12-04（171字 30分钟）"></a>12-04（171字 30分钟）</h2><div class="note flat"><p>《生命》 沈从文</p><p>我好像为什么事情很悲哀，我想起“生命”。</p><p>……</p><p>有什么人能用绿竹作弓矢，射入云空，永不落下？我之想象，犹如长箭，向云空射去，去即不返。长箭所注，在碧蓝而明静之广大虚空。</p><p>明智者若善用其明智，即可从此云空中，读示一小文，文中有微与沉默，色与香，爱和怨。无著者姓名。无年月。无故事。无……然而内容有望极柔美。虚空静寂，读者灵魂中如有音乐。虚空明蓝，读者灵魂上却光明净洁。</p></div><h2 id="12-03（590字-1-5小时）"><a href="#12-03（590字-1-5小时）" class="headerlink" title="12-03（590字 1.5小时）"></a>12-03（590字 1.5小时）</h2><div class="note flat"><p><strong>菩萨蛮 [宋]李之仪</strong></p><p>五云深处蓬山香，寒轻雾重银蟾小。枕上挹馀香，春风归路长。</p><p>雁来书不到，人静重门悄。一阵落花风，云山千万重。</p></div><div class="note flat"><p><strong>潍县署中画竹呈年伯包大中丞括/墨竹图题诗 [清]郑燮</strong></p><p>衙斋卧听萧萧竹，疑是民间疾苦声。</p><p>些小吾曹州县吏，一枝一叶总关情。</p></div><div class="note flat"><p><strong>匆匆 《踪迹》朱自清</strong></p><p>燕子去了，有再来的时候；杨柳枯了，有再青的时候；桃花谢了，有再开的时候。但是，聪明的，你告诉我，我们的日子为什么一去不复返呢？———是有人偷了他们罢：那是谁？又藏在何处呢？是他们自己逃走了罢：如今以到了哪里呢？</p><p>我不知道他们给了我多少日子，但我的手确 乎是空虚了。在默默里算着，八千多日子已经从我手中溜去，像针尖上一滴水滳在大海里，我的日子滴在时间的流里，没有声音，也没有影子。我不禁头涔涔而泪潸潸了。</p><p>去的尽管去了，来的尽管来着，去来的中间，又怎样地匆匆呢？早上我起来的时候，小屋里射进三方斜斜的太阳。太阳他有脚啊，轻轻悄悄地挪移了；我也茫茫然跟着旋转。于是———洗手的时候，日子从水盆里过去；吃饭的时候，日子从饭碗里过去；默默时，便从凝然的双眼前过去。我觉察他去的匆匆了，伸出手遮挽时，他又从遮挽的手边过去，天黑时，我躺在床上，他便伶伶俐俐地从我身上跨过，从我脚边飞去了。等我睁开眼各太阳再见，这算又溜走了一日。我掩着面叹息。但是新的日子的影儿以开始在叹息里闪过了。</p><p>在逃去如飞的日子里，在千门万户的世界里的我能做些什么呢？只有徘徊罢了，只有匆匆罢了；在八千多日的匆匆里，除徘徊外，又剩些什么呢？过去的日子如轻烟，被微风吹散了，如薄雾，被初阳蒸融了；我留着些什么痕迹呢？我赤裸裸来到这世界，转眼间也将赤裸裸的回去罢？但不能平的，为什么偏要白白走这一遭啊？</p><p>你聪明的，告诉我，我们的日子为什么一去不复返呢？</p></div><h2 id="12-02（485字-1-5小时）"><a href="#12-02（485字-1-5小时）" class="headerlink" title="12-02（485字 1.5小时）"></a>12-02（485字 1.5小时）</h2><div class="note flat"><p><strong>常用500字</strong></p><p><strong>政类黄武七支费父统府 的一了不在有个人这上</strong></p><p><strong>中大为来我到出要以时 和地们得可下对生也子</strong></p><p><strong>就过能他会多发说而于 自之用年行家方后作成</strong></p><p><strong>开面事好小心前所道法 如进着同经分定都然与</strong></p><p><strong>本还其当起动已两点从 问里主实天高去现长此</strong></p><p><strong>三将无国全文理明日些 看只公等十意正外想间</strong></p><p><strong>把情者没重相那向知因 样学应又手但信关使种</strong></p><p><strong>见力名二处门并口先 位头回话很再由身入内</strong></p><p><strong>安接报<u>声</u>才体<u>今</u>合性西 你放表目加常做己老四</strong></p><p><strong>难世至<u>气</u>神山数利书代 直色场变记张必受交非</strong></p><p><strong>服化求风度太<u>万</u>各算边 王什快许连五活思该步</strong></p><p><strong>海指物则女或完马强言 条特命感清带认保望转</strong></p><p><strong>传儿制干计民白住字它 义车像反象题却流且即</strong></p><p><strong>深近形取往系量论告息 让决未花收满每华业南</strong></p><p><strong>觉电空眼听运师元请容 她军士百办语期北林识</strong></p><p><strong><u>半</u>夫客战院城候<u>单音</u>台 死视领<u>失</u>司亲始极双令</strong></p><p><strong>改功程爱德复切随李员 离轻观青<u>足</u>落叫根怎持</strong></p><p><strong>精送众影八首包准兴红 达早尽故房引火站似找</strong></p><p><strong>备调断设格消拉照布友 整术石展紧据终周式举</strong></p><p><strong><u>飞片</u>虽易运笑云建谈界 务写钱商乐推注越<u>千</u>微</strong></p><p><strong>若约英集示呢待坐议乎 留称品志黑存六造低江</strong></p><p><strong>念产刻节尔吃势依图共 曾响底装具喜<u>严</u>九况跟</strong></p><p><strong>罗须显热病证刚治绝群 市阳确究久<u>除余</u>闻答段</strong></p><p><strong><u>官竹曹州</u></strong></p></div><h2 id="12-01（212字-30分钟）"><a href="#12-01（212字-30分钟）" class="headerlink" title="12-01（212字 30分钟）"></a>12-01（212字 30分钟）</h2><div class="note flat"><p><i class="fa fa-music" aria-hidden="true" />   水星记</i></p><p>着迷于你眼睛 银河有迹可循</p><p>穿过时间的空隙 它依然真实地 吸引我轨迹</p><p>这瞬眼的光景 最亲密的距离</p><p>沿着你皮肤纹理 走过曲折手臂 做个梦给你</p><p>等到看你银色满际 等到分不清季节更替</p><p>才敢说沉溺</p><p>还要多远才能进入你的心</p><p>还要多久才能和你接近</p><p>咫尺远近却无法靠近的那个人</p><p>也等着和你相遇 环游的行星 怎么才能 拥有你</p><p>还要多远才能进入你的心</p><p>还要多久才能和你接近</p><p>咫尺远近却无法靠近的那个人</p><p>要怎么探寻 要多么幸运</p><p>才敢让你发觉你并不孤寂</p><p>当我还可以再跟你飞行</p><p>环游是无趣 至少可以 陪着你</p></div><h1 id="2024-11"><a href="#2024-11" class="headerlink" title="2024-11"></a>2024-11</h1><h2 id="11-29（172字-30分钟）"><a href="#11-29（172字-30分钟）" class="headerlink" title="11-29（172字 30分钟）"></a>11-29（172字 30分钟）</h2><div class="note flat"><p><i class="fa fa-music" aria-hidden="true" />   想着你</i></p><p>就这样轻易 因为你 我也能试着</p><p>写一首歌给你听 是关于你</p><p>没什么准备 一张琴 合着这声音</p><p>我只是想告诉你 我爱着你</p><p>就这样轻易 因为你 没有那顾虑</p><p>唱一首歌给你听 是关于你</p><p>有什么关系 这声音</p><p>适合的频率 我只是想告诉你</p><p>我爱着你</p><p>也许有一天我们 终究会面对分离</p><p>也许有一天我们 会在老地方相遇</p><p>这不是情书啊 我从来没有这么担心</p><p>可是啊 我愿意 这样下去</p><p>我不想 让自己变成一个 矫情的傻子</p><p>可是啊 我已经 是了</p></div>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>网站收藏</title>
      <link href="/backup/link.html"/>
      <url>/backup/link.html</url>
      
        <content type="html"><![CDATA[<p>link123</p>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>分类</title>
      <link href="/categories/index.html"/>
      <url>/categories/index.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>标签</title>
      <link href="/tags/index.html"/>
      <url>/tags/index.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>静态博客 Hexo 的搭建与使用</title>
      <link href="/backup/%E9%9D%99%E6%80%81%E5%8D%9A%E5%AE%A2_Hexo_%E7%9A%84%E6%90%AD%E5%BB%BA%E4%B8%8E%E4%BD%BF%E7%94%A8.html"/>
      <url>/backup/%E9%9D%99%E6%80%81%E5%8D%9A%E5%AE%A2_Hexo_%E7%9A%84%E6%90%AD%E5%BB%BA%E4%B8%8E%E4%BD%BF%E7%94%A8.html</url>
      
        <content type="html"><![CDATA[<div class="note warning no-icon flat"><p><strong>使用<code>Hexo</code>+<code>Github</code> 搭建静态博客</strong>，不需要购买域名、服务器资源，也不需要繁琐的备案，从难易程度上静态博客的搭建是比动态的要简单些的，唯一不便之处可能就是操作文章很繁琐。</p></div><hr><h1 id="写博客"><a href="#写博客" class="headerlink" title="写博客"></a>写博客</h1><p>主要使用<code>Markdown</code>格式写博客，出于美化缘故，一些语法会有一丝丝不同。</p><h2 id="文章页面配置"><a href="#文章页面配置" class="headerlink" title="文章页面配置"></a>文章页面配置</h2><p>在文章最上方使用<code>---</code>可填写文章页面配置信息Front-matter</p><div class="tabs"><div class="nav-tabs"><button type="button" class="tab active">预览</button><button type="button" class="tab">参数</button></div><div class="tab-contents"><div class="tab-item-content active"><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">title:</span> <span class="comment"># 文章标题</span></span><br><span class="line"><span class="attr">date:</span> <span class="comment"># 创建时间</span></span><br><span class="line"><span class="attr">updated:</span> <span class="comment"># 修改时间</span></span><br><span class="line"><span class="attr">tags:</span> <span class="comment"># 标签 # 多个标签使用 - 隔开</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">tag1</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">tag2</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">...</span></span><br><span class="line"><span class="attr">categories:</span><span class="comment"># 类别 # 同标签，但有上下级关系</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">categories1</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">categories2</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">...</span></span><br><span class="line"><span class="attr">cover:</span> <span class="string">https://xxx.png</span> <span class="comment"># 封面图片</span></span><br><span class="line"><span class="meta">---</span></span><br></pre></td></tr></table></figure></div><div class="tab-item-content"><table>    <tr>        <td>写法</td>        <td>解释</td>    </tr>    <tr>        <td>title</td>        <td>【必需】文章标题</td>    </tr>    <tr>        <td>date</td>        <td>【必需】文章创建日期</td>    </tr>    <tr>        <td>updated</td>        <td>【可选】文章更新日期</td>    </tr>    <tr>        <td>tags</td>        <td>【可选】文章标签</td>    </tr>    <tr>        <td>categories</td>        <td>【可选】文章分类</td>    </tr>    <tr>        <td>keywords</td>        <td>【可选】文章关键字</td>    </tr>    <tr>        <td>description</td>        <td>【可选】文章描述</td>    </tr>    <tr>        <td>top_img</td>        <td>【可选】文章顶部图片</td>    </tr>    <tr>        <td>cover</td>        <td>【可选】文章缩略图(如果没有设置top_img,文章页顶部将显示缩略图，可设为false/图片地址/留空)</td>    </tr>    <tr>        <td>comments</td>        <td>【可选】显示文章评论模块(默认 true)</td>    </tr>    <tr>        <td>toc</td>        <td>【可选】显示文章TOC(默认为设置中toc的enable配置)</td>    </tr>    <tr>        <td>toc_number</td>        <td>【可选】显示toc_number(默认为设置中toc的number配置)</td>    </tr>    <tr>        <td>toc_style_simple</td>        <td>【可选】显示 toc 简洁模式</td>    </tr>    <tr>        <td>copyright</td>        <td>【可选】显示文章版权模块(默认为设置中post_copyright的enable配置)</td>    </tr>    <tr>        <td>copyright_author</td>        <td>【可选】文章版权模块的文章作者</td>    </tr>    <tr>        <td>copyright_author_href</td>        <td>【可选】文章版权模块的文章作者链接</td>    </tr>    <tr>        <td>copyright_url</td>        <td>【可选】文章版权模块的文章连结链接</td>    </tr>    <tr>        <td>copyright_info</td>        <td>【可选】文章版权模块的版权声明文字</td>    </tr>    <tr>        <td>mathjax</td>        <td>【可选】显示mathjax(当设置 mathjax 的 per_page: false 时，才需要配置，默认 false )</td>    </tr>    <tr>        <td>katex</td>        <td>【可选】显示 katex (当设置 katex 的 per_page: false 时，才需要配置，默认 false )</td>    </tr>    <tr>        <td>aplayer</td>        <td>【可选】在需要的页面加载 aplayer 的 js 和 css,请参考文章下面的音乐 配置</td>    </tr>    <tr>        <td>highlight_shrink</td>        <td>【可选】配置代码框是否展开(true/false)(默认为设置中 highlight_shrink 的配置)</td>    </tr>    <tr>        <td>aside</td>        <td>【可选】显示侧边栏 (默认 true)</td>    </tr>    <tr>        <td>abcjs</td>        <td>【可选】加载 abcjs (当设置 abcjs 的 per_page: false 时，才需要配置，默认 false )</td>    </tr>    <tr>        <td>password</td>        <td>【可选】文章密码</td>    </tr></table></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div><h2 id="博客美化"><a href="#博客美化" class="headerlink" title="博客美化"></a>博客美化</h2><h3 id="提示标签"><a href="#提示标签" class="headerlink" title="提示标签"></a>提示标签</h3><div class="tabs"><div class="nav-tabs"><button type="button" class="tab active">标签样式</button><button type="button" class="tab">分栏</button><button type="button" class="tab">折叠框</button></div><div class="tab-contents"><div class="tab-item-content active"><div class="note simple"><p><strong><a href="https://butterfly.js.org/posts/2df239ce/#Note-Bootstrap-Callout">butterfly</a> 提供了非常多的提示标签样式<a href="https://zhu-dongya.gitee.io/posts/hexo-butterfly-04/">参考</a>：</strong></p><p><strong>图标样式：none、<font color=gray>default</font>、<font color=6F42C1>primary</font>、<font color=5CB85C>success</font>、<font color=31708F>info</font>、<font color=8A6D3B>warning</font>、<font color=A94442>danger</font></strong></p><p><strong>标签样式：simple、modern、flat、disabled、no-icon</strong></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="string">%</span> <span class="string">note</span> <span class="string">图标样式</span> <span class="string">标签样式</span> <span class="string">%</span>&#125;</span><br><span class="line"></span><br><span class="line">&#123;<span class="string">%</span> <span class="string">endnote</span> <span class="string">%</span>&#125;</span><br></pre></td></tr></table></figure></div><div class="tabs"><div class="nav-tabs"><button type="button" class="tab">simple</button><button type="button" class="tab">modern</button><button type="button" class="tab active">flat</button><button type="button" class="tab">disabled</button><button type="button" class="tab">no-icon</button><button type="button" class="tab">自定义</button></div><div class="tab-contents"><div class="tab-item-content"><div class="note simple"><p>none</p></div><div class="note default simple"><p>default</p></div><div class="note primary simple"><p>primary</p></div><div class="note success simple"><p>success</p></div><div class="note info simple"><p>info</p></div><div class="note warning simple"><p>warning</p></div><div class="note danger simple"><p>danger</p></div></div><div class="tab-item-content"><div class="note modern"><p>none</p></div><div class="note default modern"><p>default</p></div><div class="note primary modern"><p>primary</p></div><div class="note success modern"><p>success</p></div><div class="note info modern"><p>info</p></div><div class="note warning modern"><p>warning</p></div><div class="note danger modern"><p>danger</p></div></div><div class="tab-item-content active"><div class="note flat"><p>none</p></div><div class="note default flat"><p>default</p></div><div class="note primary flat"><p>primary</p></div><div class="note success flat"><p>success</p></div><div class="note info flat"><p>info</p></div><div class="note warning flat"><p>warning</p></div><div class="note danger flat"><p>danger</p></div></div><div class="tab-item-content"><div class="note disabled"><p>none</p></div><div class="note default disabled"><p>default</p></div><div class="note primary disabled"><p>primary</p></div><div class="note success disabled"><p>success</p></div><div class="note info disabled"><p>info</p></div><div class="note warning disabled"><p>warning</p></div><div class="note danger disabled"><p>danger</p></div></div><div class="tab-item-content"><div class="note no-icon flat"><p>none</p></div><div class="note default no-icon flat"><p>default</p></div><div class="note primary no-icon flat"><p>primary</p></div><div class="note success no-icon flat"><p>success</p></div><div class="note info no-icon flat"><p>info</p></div><div class="note warning no-icon flat"><p>warning</p></div><div class="note danger no-icon flat"><p>danger</p></div></div><div class="tab-item-content"><p>当然，还有自定义icon样式</p><div class="note icon-padding simple"><i class="note-icon fab fa-apple"></i><p>在 <a href="https://fontawesome.com.cn/v4/icons">矢量图库</a>中选择喜欢的矢量图</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="string">%</span> <span class="string">note</span> <span class="string">&#x27;fab xxx&#x27;</span> <span class="string">simple</span> <span class="string">%</span>&#125;</span><br><span class="line"></span><br><span class="line">&#123;<span class="string">%</span> <span class="string">endnote</span> <span class="string">%</span>&#125;</span><br></pre></td></tr></table></figure></div></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><div class="tab-item-content"><div class="tabs"><div class="nav-tabs"><button type="button" class="tab active">预览</button><button type="button" class="tab">实现</button></div><div class="tab-contents"><div class="tab-item-content active"><div class="tabs"><div class="nav-tabs"><button type="button" class="tab">分栏预览 1</button><button type="button" class="tab active">分栏预览 2</button><button type="button" class="tab"><i class="fab fa-apple"></i>自定义名字</button></div><div class="tab-contents"><div class="tab-item-content"><p>空</p></div><div class="tab-item-content active"><table>    <tr>        <td>1</td>        <td>2</td>    </tr>    <tr>        <td>3</td>        <td>4</td>    </tr></table><div class="note info disabled"><p>分栏里插入表格需要使用HTML格式</p></div></div><div class="tab-item-content"><p>自定义名字  + 矢量图片</p></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><div class="tab-item-content"><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="string">%</span> <span class="string">tabs</span> <span class="string">%</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="string">&lt;!--</span> <span class="string">tab</span> <span class="string">--&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="string">&lt;!--</span> <span class="string">endtab</span> <span class="string">--&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="string">&lt;!--</span> <span class="string">tab</span> <span class="string">--&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="string">&lt;!--</span> <span class="string">endtab</span> <span class="string">--&gt;</span></span><br><span class="line"></span><br><span class="line">&#123;<span class="string">%</span> <span class="string">endtabs</span> <span class="string">%</span>&#125;</span><br></pre></td></tr></table></figure><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 默认分栏名字，默认显示某个分栏</span></span><br><span class="line">&#123;<span class="string">%</span> <span class="string">tabs</span> <span class="string">分栏预览</span>, <span class="number">2</span> <span class="string">%</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 第一个分栏</span></span><br><span class="line"><span class="string">&lt;!--</span> <span class="string">tab</span> <span class="string">--&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="string">空</span></span><br><span class="line"></span><br><span class="line"><span class="string">&lt;!--</span> <span class="string">endtab</span> <span class="string">--&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 第二个分栏</span></span><br><span class="line"></span><br><span class="line"><span class="string">&lt;!--</span> <span class="string">tab</span> <span class="string">--&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="string">&lt;table&gt;</span></span><br><span class="line">    <span class="string">&lt;tr&gt;</span></span><br><span class="line">        <span class="string">&lt;td&gt;1&lt;/td&gt;</span></span><br><span class="line">        <span class="string">&lt;td&gt;2&lt;/td&gt;</span></span><br><span class="line">    <span class="string">&lt;/tr&gt;</span></span><br><span class="line">    <span class="string">&lt;tr&gt;</span></span><br><span class="line">        <span class="string">&lt;td&gt;3&lt;/td&gt;</span></span><br><span class="line">        <span class="string">&lt;td&gt;4&lt;/td&gt;</span></span><br><span class="line">    <span class="string">&lt;/tr&gt;</span></span><br><span class="line"><span class="string">&lt;/table&gt;</span></span><br><span class="line"></span><br><span class="line">&#123;<span class="string">%note</span> <span class="string">info</span> <span class="string">disabled</span> <span class="string">%</span>&#125;<span class="string">分栏里插入表格需要使用HTML格式&#123;%endnote%&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="string">&lt;!--</span> <span class="string">endtab</span> <span class="string">--&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 第三个分栏</span></span><br><span class="line"><span class="string">&lt;!--</span> <span class="string">tab</span> <span class="string">自定义名字</span> <span class="string">@fab</span> <span class="string">fa-apple</span> <span class="string">--&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="string">自定义名字</span>  <span class="string">+</span> <span class="string">矢量图片</span></span><br><span class="line"></span><br><span class="line"><span class="string">&lt;!--</span> <span class="string">endtab</span> <span class="string">--&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#123;<span class="string">%</span> <span class="string">endtabs</span> <span class="string">%</span>&#125;</span><br></pre></td></tr></table></figure></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><div class="tab-item-content"><div class="tabs"><div class="nav-tabs"><button type="button" class="tab active">预览</button><button type="button" class="tab">实现</button></div><div class="tab-contents"><div class="tab-item-content active"><details class="folding-tag" name open><summary> 默认打开的折叠框 </summary>              <div class='content'>              <p>这是一个默认打开的折叠框</p>              </div>            </details><details class="folding-tag" name><summary> 内嵌代码块 </summary>              <div class='content'>              <figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">hello</span> <span class="string">world</span></span><br></pre></td></tr></table></figure>              </div>            </details><details class="folding-tag" red><summary> 嵌套测试 </summary>              <div class='content'>              <details class="folding-tag" blue><summary> 嵌套 </summary>              <div class='content'>              <p>没了</p>              </div>            </details>              </div>            </details></div><div class="tab-item-content"><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="string">%</span> <span class="string">folding</span> <span class="string">ID</span> <span class="string">open</span>,<span class="string">默认打开的折叠框</span> <span class="string">%</span>&#125;</span><br><span class="line"><span class="string">这是一个默认打开的折叠框</span></span><br><span class="line">&#123;<span class="string">%</span> <span class="string">endfolding</span> <span class="string">%</span>&#125;</span><br><span class="line"></span><br><span class="line">&#123;<span class="string">%</span> <span class="string">folding</span> <span class="string">name</span>, <span class="string">内嵌代码块%</span>&#125;</span><br><span class="line"><span class="string">```yaml</span></span><br><span class="line"><span class="string">hello</span> <span class="string">world</span></span><br><span class="line"><span class="string">```</span></span><br><span class="line">&#123;<span class="string">%</span> <span class="string">endfolding</span> <span class="string">%</span>&#125;</span><br><span class="line"></span><br><span class="line">&#123;<span class="string">%</span> <span class="string">folding</span> <span class="string">red</span>, <span class="string">嵌套测试</span> <span class="string">%</span>&#125;</span><br><span class="line">&#123;<span class="string">%</span> <span class="string">folding</span> <span class="string">blue</span>, <span class="string">嵌套</span> <span class="string">%</span>&#125;</span><br><span class="line"><span class="string">没了</span></span><br><span class="line">&#123;<span class="string">%</span> <span class="string">endfolding</span> <span class="string">%</span>&#125;</span><br><span class="line">&#123;<span class="string">%</span> <span class="string">endfolding</span> <span class="string">%</span>&#125;</span><br></pre></td></tr></table></figure></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div><hr><h1 id="环境搭建"><a href="#环境搭建" class="headerlink" title="环境搭建"></a>环境搭建</h1><div class="tabs"><div class="nav-tabs"><button type="button" class="tab active">NodeJs</button><button type="button" class="tab">Git</button><button type="button" class="tab">Hexo</button></div><div class="tab-contents"><div class="tab-item-content active"><div class="note no-icon flat"><p><strong>NodeJS</strong> 的安装说实在搞得头大，总是莫名其妙的出现各种问题，像 cnpm 系统不识别之类的，总之就是非常头大，不过还好，总算是找到了一个没有任何报错的安装方法→ <a href="https://www.bilibili.com/video/BV19F411t7zX/?vd_source=b4e7a930b6168115887cecaf26f330e6">BV19F411t7zX</a>。</p></div><ol><li><p><strong>下载 NodeJS</strong></p><p><a href="https://nodejs.cn/download/">NodeJS 官网</a> 下载对应版本，这里使用的是 Windows-64 安装包</p><p><img src="https://img2.imgtp.com/2024/05/27/hsAYzume.png" alt="NodeJS版本选择"></p><p>解压后新建两个文件夹：用来放缓存文件的 <code>node_cache</code> 和用来放系统全局文件的 <code>node_global</code></p></li><li><p><strong>配置环境变量</strong></p><p>在<strong>系统变量</strong>中新建一个  <code>NODE_HOME</code></p><p><img src="https://img2.imgtp.com/2024/05/27/E312n3KL.png" alt="配置环境变量"></p><p>然后再从<strong>系统变量</strong>的 <code>PATH</code> 中添加下面三段</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">%NODE_HOME%</span><br><span class="line">%NODE_HOME%\node_cache</span><br><span class="line">%NODE_HOME%\node_global</span><br></pre></td></tr></table></figure><p>以上工作完成后，再终端中输入 <code>node -v</code>、<code>npm -v</code> 测试环境变量是否配置成功</p></li><li><p><strong>配置 npm &amp; cnpm</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// 配置 npm 全局</span><br><span class="line">npm config set prefix &quot;node_global 的路径&quot;</span><br><span class="line">// 配置 npm 缓存</span><br><span class="line">npm config set cache &quot;node_cache 的路径&quot;</span><br><span class="line">// 国内下载慢所以用阿里的镜像下载</span><br><span class="line">npm config set registry https://registry.npm.taobao.org</span><br></pre></td></tr></table></figure><p>没有报错就说明已经成功配置了，然后就可以下载镜像文件了</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g cnpm</span><br></pre></td></tr></table></figure><p>安装成功后输入 <code>cnpm -v</code> 测试是否成功，在 node_global 文件夹下也可以看到 cnpm 文件，NodeJS 的安装配置到此完成！</p></li></ol></div><div class="tab-item-content"><div class="note no-icon flat"><p><a href="https://git-scm.com/downloads">Git</a> 直接下载对应版本安装即可，一直下一步傻瓜式安装</p></div><div class="note no-icon flat"><p>Git的使用在以后用到的时候再进行更新，目前仅为上传不同名文件夹内容到远程仓库的不同分支中，方法也非常简单，使用Github桌面端就可以进行操作，把仓库克隆到要上传的文件夹父目录，克隆完成后把名字一改再重新寻址就可以了</p></div></div><div class="tab-item-content"><ol><li><p><strong>Hexo 安装</strong></p><div class="note no-icon flat"><p>Hexo 官网有提供的详尽的 <a href="https://hexo.io/zh-cn/docs/">安装使用文档</a>，需要注意的是，Hexo 需要搭配 Git 和 NodeJS 使用，在安装之前需要把前面两个提前安装！也可以参考→<a href="https://www.bilibili.com/video/BV1Yb411a7ty/?vd_source=b4e7a930b6168115887cecaf26f330e6">BV1Yb411a7ty</a></p></div><p>Hexo 使用的是命令行进行操作，首先<strong>安装 Hexo</strong>，hexo -v 测试安装</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">cnpm</span> <span class="string">install</span> <span class="string">-g</span> <span class="string">hexo-cli</span></span><br></pre></td></tr></table></figure><p>在博客文件夹根目录下<strong>初始化 Hexo</strong></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">hexo</span> <span class="string">init</span></span><br><span class="line"><span class="string">npm</span> <span class="string">install</span><span class="string">//</span> <span class="string">初始化成功了就不需要再执行这步了</span></span><br></pre></td></tr></table></figure></li><li><p><strong>Hexo 基本操作</strong></p><table>    <tr>        <td>功能</td>        <td>代码</td>        <td>代码全称</td>    </tr>    <tr>        <td>启动本地预览</td>        <td>hexo s</td>        <td>hexo server</td>    </tr>    <tr>        <td>清理本地缓存</td>        <td>hexo clean</td>        <td>hexo clean</td>    </tr>    <tr>        <td>生成 HTML 文件</td>        <td>hexo g</td>        <td>hexo generate</td>    </tr>    <tr>        <td>推送到云端</td>        <td>hexo d</td>        <td>hexo deploy</td>    </tr>    <tr>        <td>创建新的文章</td>        <td>hexo n</td>        <td>hexo new</td>    </tr></table></li><li><p><strong>Blog 部署到 Github</strong></p><p>首先再本目录下安装部署插件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cnpm install --save hexo-deployer-git</span><br></pre></td></tr></table></figure><p>插件装完后去 <code>_config.yml</code> 里进行必要配置！在文件最下面修改 <code># Deployment</code> 里面的信息</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">type: git</span><br><span class="line">repo: https://github.com/choomoray/choomoray.github.io.git</span><br><span class="line">branch: blog// 可以不写，默认保存到 Github 仓库的 master 分支中</span><br></pre></td></tr></table></figure></li></ol></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div><h1 id="主题-amp-美化（缝缝补补中……）"><a href="#主题-amp-美化（缝缝补补中……）" class="headerlink" title="主题 &amp; 美化（缝缝补补中……）"></a>主题 &amp; 美化（缝缝补补中……）</h1><div class="note no-icon flat"><p>在 <a href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a> 下载好压缩包，解压到 Theme 文件夹，然后在 <code>_config.yml</code> 里把默认的 Theme 替换成需要修改的主题文件夹名就大功告成了！</p><p>主题美化可以参考作者写的<a href="https://butterfly.js.org/">详细文档</a></p><div class="note info disabled"><p>在手贱删了不知道是什么的文件后，决定从新弄弄文档吧，下次再忘记了就不好办了</p></div></div><h2 id="网站美化"><a href="#网站美化" class="headerlink" title="网站美化"></a>网站美化</h2><div class="tabs"><div class="nav-tabs"><button type="button" class="tab">主配置文件</button><button type="button" class="tab active">主题配置文件</button></div><div class="tab-contents"><div class="tab-item-content"><details class="folding-tag" 1><summary> 网站基本信息 </summary>              <div class='content'>              <figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Site</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">CHOOMORAY</span><span class="comment"># 网站标题</span></span><br><span class="line"><span class="attr">subtitle:</span> <span class="string">&#x27;&#x27;</span><span class="comment"># 网站副标题</span></span><br><span class="line"><span class="attr">description:</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line"><span class="attr">keywords:</span></span><br><span class="line"><span class="attr">author:</span> <span class="string">choomoray</span> <span class="comment"># 作者名</span></span><br><span class="line"><span class="attr">language:</span> <span class="string">zh-CN</span></span><br><span class="line"><span class="attr">timezone:</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># URL</span></span><br><span class="line"><span class="comment">## Set your site url here. For example, if you use GitHub Page, set url as &#x27;https://username.github.io/project&#x27;</span></span><br><span class="line"><span class="attr">url:</span> <span class="string">https://choomoray.github.io/</span><span class="comment"># 网站链接</span></span><br></pre></td></tr></table></figure>              </div>            </details><details class="folding-tag" 2><summary> 设置默认主题 </summary>              <div class='content'>              <figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Extensions</span></span><br><span class="line"><span class="comment">## Plugins: https://hexo.io/plugins/</span></span><br><span class="line"><span class="comment">## Themes: https://hexo.io/themes/</span></span><br><span class="line"><span class="attr">theme:</span> <span class="string">hexo-theme-butterfly-dev</span></span><br></pre></td></tr></table></figure>              </div>            </details><details class="folding-tag" 3><summary> Git推送 </summary>              <div class='content'>              <figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Deployment</span></span><br><span class="line"><span class="comment">## Docs: https://hexo.io/docs/one-command-deployment</span></span><br><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">git</span><span class="comment"># 推送类型</span></span><br><span class="line">  <span class="attr">repo:</span> <span class="string">https://github.com/choomoray/choomoray.github.io.git</span><span class="comment"># 推送目标</span></span><br><span class="line">  <span class="attr">branch:</span> <span class="string">blog</span><span class="comment"># 推送分支</span></span><br></pre></td></tr></table></figure>              </div>            </details></div><div class="tab-item-content active"><details class="folding-tag" ><summary> 颜色 </summary>              <div class='content'>              <figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Beautify/Effect (美化/效果)</span></span><br><span class="line"><span class="comment"># --------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Theme color for customize</span></span><br><span class="line"><span class="comment"># Notice: color value must in double quotes like &quot;#000&quot; or may cause error!</span></span><br><span class="line"></span><br><span class="line"><span class="attr">theme_color:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">main:</span> <span class="string">gray</span></span><br><span class="line"><span class="comment">#   paginator: &quot;#00c4b6&quot;</span></span><br><span class="line"><span class="comment">#   button_hover: &quot;#FF7242&quot;</span></span><br><span class="line"><span class="comment">#   text_selection: &quot;#00c4b6&quot;</span></span><br><span class="line"><span class="comment">#   link_color: &quot;#99a9bf&quot;</span></span><br><span class="line"><span class="comment">#   meta_color: &quot;#858585&quot;</span></span><br><span class="line"><span class="comment">#   hr_color: &quot;#A4D8FA&quot;</span></span><br><span class="line"><span class="comment">#   code_foreground: &quot;#F47466&quot;</span></span><br><span class="line"><span class="comment">#   code_background: &quot;rgba(27, 31, 35, .05)&quot;</span></span><br><span class="line"><span class="comment">#   toc_color: &quot;#00c4b6&quot;</span></span><br><span class="line"><span class="comment">#   blockquote_padding_color: &quot;#49b1f5&quot;</span></span><br><span class="line"><span class="comment">#   blockquote_background_color: &quot;#49b1f5&quot;</span></span><br><span class="line"><span class="comment">#   scrollbar_color: &quot;#49b1f5&quot;</span></span><br><span class="line"><span class="comment">#   meta_theme_color_light: &quot;ffffff&quot;</span></span><br><span class="line"><span class="comment">#   meta_theme_color_dark: &quot;#0d0d0d&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Website Background (设置网站背景颜色)</span></span><br><span class="line"><span class="comment"># can set it to color or image (可以设置图片 和 颜色)</span></span><br><span class="line"><span class="comment"># The formal of image: url(http://xxxxxx.com/xxx.jpg)</span></span><br><span class="line"><span class="attr">background:</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Footer Background</span></span><br><span class="line"><span class="attr">footer_bg:</span> <span class="string">&quot;#C9C9C9&quot;</span><span class="comment"># 设置网站底部颜色</span></span><br></pre></td></tr></table></figure>              </div>            </details> <details class="folding-tag" ><summary> 导航栏 </summary>              <div class='content'>              <figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">nav:</span> <span class="comment"># 折叠导航栏</span></span><br><span class="line">  <span class="attr">logo:</span> <span class="comment"># image</span></span><br><span class="line">  <span class="attr">display_title:</span> <span class="literal">true</span><span class="comment"># 左上角 HOME</span></span><br><span class="line">  <span class="attr">fixed:</span> <span class="literal">false</span> <span class="comment"># 折叠导航栏</span></span><br><span class="line">  </span><br><span class="line"><span class="attr">menu:</span> <span class="comment"># 导航栏内容</span></span><br><span class="line">  <span class="string">首页:</span> <span class="string">/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-home</span></span><br><span class="line">  <span class="string">时间轴:</span> <span class="string">/archives/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-archive</span></span><br><span class="line">  <span class="string">标签:</span> <span class="string">/tags/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-tags</span></span><br><span class="line">  <span class="string">分类:</span> <span class="string">/categories/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-folder-open</span></span><br><span class="line">  <span class="string">收藏:</span> <span class="string">/link/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-link</span></span><br><span class="line">  <span class="attr">ME:</span> <span class="string">/diary/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-video</span></span><br><span class="line">  <span class="comment"># List||fas fa-list:</span></span><br><span class="line">  <span class="comment">#   Music: /music/ || fas fa-music</span></span><br><span class="line">  <span class="comment">#   Movie: /movies/ || fas fa-video</span></span><br><span class="line">  <span class="comment"># Link: /link/ || fas fa-link</span></span><br><span class="line">  <span class="comment"># About: /about/ || fas fa-heart</span></span><br></pre></td></tr></table></figure>              </div>            </details> <details class="folding-tag" ><summary> 侧边栏 </summary>              <div class='content'>              <figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">aside:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">hide:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">button:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">mobile:</span> <span class="literal">true</span> <span class="comment"># display on mobile</span></span><br><span class="line">  <span class="attr">position:</span> <span class="string">left</span> <span class="comment"># left or right</span></span><br><span class="line">  <span class="attr">display:</span></span><br><span class="line">    <span class="attr">archive:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">tag:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">category:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">card_author:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">description:</span></span><br><span class="line">    <span class="attr">button:</span></span><br><span class="line">      <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">      <span class="attr">icon:</span> <span class="string">fab</span> <span class="string">fa-github</span></span><br><span class="line">      <span class="attr">text:</span> <span class="string">Follow</span> <span class="string">Me</span></span><br><span class="line">      <span class="attr">link:</span> <span class="string">https://github.com/choomoray</span></span><br></pre></td></tr></table></figure>              </div>            </details><details class="folding-tag" ><summary> 目录 </summary>              <div class='content'>              <figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">toc:</span></span><br><span class="line">  <span class="attr">post:</span> <span class="literal">true</span><span class="comment"># 文章页</span></span><br><span class="line">  <span class="attr">page:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">number:</span> <span class="literal">true</span><span class="comment"># 章节显示</span></span><br><span class="line">  <span class="attr">expand:</span> <span class="literal">true</span><span class="comment"># 折叠目录</span></span><br><span class="line">  <span class="attr">style_simple:</span> <span class="literal">true</span> <span class="comment"># for post</span></span><br><span class="line">  <span class="attr">scroll_percent:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>              </div>            </details><details class="folding-tag" ><summary> 底栏 </summary>              <div class='content'>              <figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">footer:</span></span><br><span class="line">  <span class="attr">owner:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">since:</span> <span class="number">2024</span></span><br><span class="line">  <span class="attr">custom_text:</span> </span><br><span class="line">  <span class="attr">copyright:</span> <span class="literal">false</span> <span class="comment"># Copyright of theme and framework</span></span><br></pre></td></tr></table></figure>              </div>            </details> <details class="folding-tag" ><summary> 主页显示文章封面 </summary>              <div class='content'>              <figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">cover:</span></span><br><span class="line">  <span class="comment"># display the cover or not (是否显示文章封面)</span></span><br><span class="line">  <span class="attr">index_enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">aside_enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">archives_enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># the position of cover in home page (封面显示的位置)</span></span><br><span class="line">  <span class="comment"># left/right/both</span></span><br><span class="line">  <span class="attr">position:</span> <span class="string">both</span></span><br><span class="line">  <span class="comment"># When cover is not set, the default cover is displayed (没有设置封面cover时，显示默认的封面)</span></span><br><span class="line">  <span class="attr">default_cover:</span></span><br><span class="line">    <span class="comment"># - https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg</span></span><br></pre></td></tr></table></figure>              </div>            </details> <details class="folding-tag" ><summary> 允许复制 </summary>              <div class='content'>              <figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># copy settings</span></span><br><span class="line"><span class="comment"># copyright: 复制的内容后面加上版权信息</span></span><br><span class="line"><span class="attr">copy:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span><span class="comment"># 允许复制</span></span><br><span class="line">  <span class="attr">copyright:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">    <span class="attr">limit_count:</span> <span class="number">50</span></span><br></pre></td></tr></table></figure>              </div>            </details>  <details class="folding-tag" ><summary> 访问人数 & 运行时长 </summary>              <div class='content'>              <figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">busuanzi:</span> <span class="comment"># 访问人数</span></span><br><span class="line">  <span class="attr">site_uv:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">site_pv:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">page_pv:</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Time difference between publish date and now</span></span><br><span class="line"><span class="comment"># Formal: Month/Day/Year Time or Year/Month/Day Time</span></span><br><span class="line"><span class="attr">runtimeshow:</span><span class="comment"># 运行时长</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">publish_date:</span> <span class="number">1</span><span class="string">/1/2024</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Aside widget - Newest Comments</span></span><br><span class="line"><span class="attr">newest_comments:</span><span class="comment"># 评论</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">sort_order:</span> <span class="comment"># Don&#x27;t modify the setting unless you know how it works</span></span><br><span class="line">  <span class="attr">limit:</span> <span class="number">6</span></span><br><span class="line">  <span class="attr">storage:</span> <span class="number">10</span> <span class="comment"># unit: mins, save data to localStorage</span></span><br><span class="line">  <span class="attr">avatar:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>              </div>            </details>   <details class="folding-tag" ><summary> 右下按钮（翻译 & 阅读模式 & 深色模式） </summary>              <div class='content'>              <figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">translate:</span><span class="comment"># 翻译</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment"># The text of a button</span></span><br><span class="line">  <span class="attr">default:</span> <span class="string">繁</span></span><br><span class="line">  <span class="comment"># the language of website (1 - Traditional Chinese/ 2 - Simplified Chinese）</span></span><br><span class="line">  <span class="attr">defaultEncoding:</span> <span class="number">2</span></span><br><span class="line">  <span class="comment"># Time delay</span></span><br><span class="line">  <span class="attr">translateDelay:</span> <span class="number">0</span></span><br><span class="line">  <span class="comment"># The text of the button when the language is Simplified Chinese</span></span><br><span class="line">  <span class="attr">msgToTraditionalChinese:</span> <span class="string">&#x27;繁&#x27;</span></span><br><span class="line">  <span class="comment"># The text of the button when the language is Traditional Chinese</span></span><br><span class="line">  <span class="attr">msgToSimplifiedChinese:</span> <span class="string">&#x27;簡&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Read Mode 阅读模式</span></span><br><span class="line"><span class="attr">readmode:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># dark mode 深色模式</span></span><br><span class="line"><span class="attr">darkmode:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># Toggle Button to switch dark/light mode</span></span><br><span class="line">  <span class="attr">button:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># Switch dark/light mode automatically (自動切換 dark mode和 light mode)</span></span><br><span class="line">  <span class="comment"># autoChangeMode: 1  Following System Settings, if the system doesn&#x27;t support dark mode, it will switch dark mode between 6 pm to 6 am</span></span><br><span class="line">  <span class="comment"># autoChangeMode: 2  Switch dark mode between 6 pm to 6 am</span></span><br><span class="line">  <span class="comment"># autoChangeMode: false</span></span><br><span class="line">  <span class="attr">autoChangeMode:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># Set the light mode time. The value is between 0 and 24. If not set, the default value is 6 and 18</span></span><br><span class="line">  <span class="attr">start:</span> <span class="comment"># 8</span></span><br><span class="line">  <span class="attr">end:</span> <span class="comment"># 22</span></span><br></pre></td></tr></table></figure>              </div>            </details>  <details class="folding-tag" ><summary> 主页仿键盘敲入文字效果 </summary>              <div class='content'>              <figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">subtitle:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># Typewriter Effect (打字效果)</span></span><br><span class="line">  <span class="attr">effect:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># Customize typed.js (配置typed.js)</span></span><br><span class="line">  <span class="comment"># https://github.com/mattboldt/typed.js/#customization</span></span><br><span class="line">  <span class="comment"># startDelay: 300 # time before typing starts in milliseconds</span></span><br><span class="line">  <span class="comment"># typeSpeed: 150 # type speed in milliseconds</span></span><br><span class="line">  <span class="comment"># backSpeed: 50 # backspacing speed in milliseconds</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">typed_option:</span></span><br><span class="line">  <span class="comment"># source 调用第三方服务</span></span><br><span class="line">  <span class="comment"># source: false 关闭调用</span></span><br><span class="line">  <span class="comment"># source: 1  调用一言网 https://hitokoto.cn/</span></span><br><span class="line">  <span class="comment"># source: 2  调用一句网 https://yijuzhan.com/</span></span><br><span class="line">  <span class="comment"># source: 3  调用今日诗词 https://www.jinrishici.com/</span></span><br><span class="line">  <span class="comment"># subtitle 会先显示 source , 再显示 sub 的內容</span></span><br><span class="line">  <span class="attr">source:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment"># 如果关闭打字效果，subtitle 只会显示 sub 的第一行文字</span></span><br><span class="line">  <span class="attr">sub:</span>  </span><br><span class="line">    <span class="bullet">-</span> <span class="string">今日事，今日毕！</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">书不记，熟读可记；义不精，细思可精；惟有志不立，直是无着力处。</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">有志者，事竟成，破釜沉舟，百二秦关终属楚；苦心人，天不负，卧薪尝胆，三千越甲可吞吴。</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">静以修身，俭以养德，非淡泊无以明志，非宁静无以致远。</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">尺有所短；寸有所长。物有所不足；智有所不明。</span></span><br></pre></td></tr></table></figure>              </div>            </details><details class="folding-tag" ><summary> 网页进入效果 </summary>              <div class='content'>              <figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Enter transitions</span></span><br><span class="line"><span class="attr">enter_transitions:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>              </div>            </details><details class="folding-tag" ><summary> 打字效果 </summary>              <div class='content'>              <figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Typewriter Effect (打字效果)</span></span><br><span class="line"><span class="comment"># https://github.com/disjukr/activate-power-mode</span></span><br><span class="line"><span class="attr">activate_power_mode:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">colorful:</span> <span class="literal">true</span> <span class="comment"># open particle animation (冒光特效)</span></span><br><span class="line">  <span class="attr">shake:</span> <span class="literal">true</span> <span class="comment">#  open shake (抖动特效)</span></span><br><span class="line">  <span class="attr">mobile:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure>              </div>            </details><details class="folding-tag" ><summary> 背景样式 </summary>              <div class='content'>              <figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Background effects (背景特效)</span></span><br><span class="line"><span class="comment"># --------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># canvas_ribbon (静止彩带背景)</span></span><br><span class="line"><span class="comment"># See: https://github.com/hustcc/ribbon.js</span></span><br><span class="line"><span class="attr">canvas_ribbon:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">size:</span> <span class="number">150</span></span><br><span class="line">  <span class="attr">alpha:</span> <span class="number">0.6</span></span><br><span class="line">  <span class="attr">zIndex:</span> <span class="number">-1</span></span><br><span class="line">  <span class="attr">click_to_change:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">mobile:</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Fluttering Ribbon (动态彩带背景)</span></span><br><span class="line"><span class="attr">canvas_fluttering_ribbon:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">mobile:</span> <span class="literal">false</span></span><br><span class="line">  </span><br><span class="line"><span class="comment"># canvas_nest# 纯色背景</span></span><br><span class="line"><span class="comment"># https://github.com/hustcc/canvas-nest.js</span></span><br><span class="line"><span class="attr">canvas_nest:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">color:</span> <span class="string">&#x27;0,0,255&#x27;</span> <span class="comment">#color of lines, default: &#x27;0,0,0&#x27;; RGB values: (R,G,B).(<span class="doctag">note:</span> use &#x27;,&#x27; to separate.)</span></span><br><span class="line">  <span class="attr">opacity:</span> <span class="number">0.7</span> <span class="comment"># the opacity of line (0~1), default: 0.5.</span></span><br><span class="line">  <span class="attr">zIndex:</span> <span class="number">-1</span> <span class="comment"># z-index property of the background, default: -1.</span></span><br><span class="line">  <span class="attr">count:</span> <span class="number">99</span> <span class="comment"># the number of lines, default: 99.</span></span><br><span class="line">  <span class="attr">mobile:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure>              </div>            </details><details class="folding-tag" ><summary> 鼠标点击效果 </summary>              <div class='content'>              <figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Mouse click effects: fireworks (鼠标点击效果: 烟花特效)</span></span><br><span class="line"><span class="attr">fireworks:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">zIndex:</span> <span class="number">9999</span> <span class="comment"># -1 or 9999</span></span><br><span class="line">  <span class="attr">mobile:</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Mouse click effects: Heart symbol (鼠标点击效果：爱心)</span></span><br><span class="line"><span class="attr">click_heart:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">mobile:</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Mouse click effects: words (鼠标点击效果：文字)</span></span><br><span class="line"><span class="attr">clickShowText:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">text:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">富强</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">民主</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">文明</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">和谐</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">自由</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">平等</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">公正</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">法治</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">爱国</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">敬业</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">诚信</span>  </span><br><span class="line">    <span class="bullet">-</span> <span class="string">友善</span></span><br><span class="line">  <span class="attr">fontSize:</span> <span class="string">15px</span></span><br><span class="line">  <span class="attr">random:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">mobile:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>              </div>            </details><details class="folding-tag" ><summary> 图片大图查看模式 </summary>              <div class='content'>              <figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Lightbox (图片大图查看模式)</span></span><br><span class="line"><span class="comment"># --------------------------------------</span></span><br><span class="line"><span class="comment"># You can only choose one, or neither (只能选择一个，或者两个都不选)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># medium-zoom</span></span><br><span class="line"><span class="comment"># https://github.com/francoischalifour/medium-zoom</span></span><br><span class="line"><span class="attr">medium_zoom:</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># fancybox</span></span><br><span class="line"><span class="comment"># https://fancyapps.com/fancybox/</span></span><br><span class="line"><span class="attr">fancybox:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure>              </div>            </details><details class="folding-tag" ><summary> 网页预加载 </summary>              <div class='content'>              <figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># https://instant.page/</span></span><br><span class="line"><span class="comment"># prefetch 预加载</span></span><br><span class="line"><span class="attr">instantpage:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>              </div>            </details><details class="folding-tag" ><summary> 图片懒加载 </summary>              <div class='content'>              <figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Lazyload (图片懒加载)</span></span><br><span class="line"><span class="comment"># https://github.com/verlok/vanilla-lazyload</span></span><br><span class="line"><span class="attr">lazyload:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">field:</span> <span class="string">site</span> <span class="comment"># site/post</span></span><br><span class="line">  <span class="attr">placeholder:</span> <span class="string">/img/加载图片.gif</span> <span class="comment"># 加载出图片前的占位符</span></span><br><span class="line">  <span class="attr">blur:</span> <span class="literal">true</span><span class="comment"># 模糊加载效果</span></span><br></pre></td></tr></table></figure>              </div>            </details></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div><h2 id="文章美化"><a href="#文章美化" class="headerlink" title="文章美化"></a>文章美化</h2><div class="tabs"><div class="nav-tabs"><button type="button" class="tab active">功能添加</button><button type="button" class="tab">内容美化</button></div><div class="tab-contents"><div class="tab-item-content active"><details class="folding-tag" ><summary> 搜索功能 </summary>              <div class='content'>              <p>非常实用的搜索功能，但是 Hexo 原生并不支持，需要安装依赖：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">npm</span> <span class="string">install</span> <span class="string">hexo-generator-search</span> <span class="string">--save</span></span><br></pre></td></tr></table></figure><p>修改<code>主配置文件</code>，添加如下内容：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">search:</span><span class="comment"># 搜索</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">search.xml</span></span><br><span class="line">  <span class="attr">field:</span> <span class="string">post</span></span><br><span class="line">  <span class="attr">content:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">template:</span> <span class="string">./search.xml</span></span><br></pre></td></tr></table></figure><p>在主题中开启搜索，在<code>主题配置文件</code>添加以下内容：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">local_search:</span></span><br><span class="line"><span class="bullet">-</span>  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line"><span class="string">+</span>  <span class="attr">enable:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>              </div>            </details><details class="folding-tag" ><summary> 文章加密 </summary>              <div class='content'>              <div class="note no-icon flat"><p>静态博客文章加密典型的防君子不防小人，程序只是卡在了调用那里，后台该能看到的还是可以看到的！</p></div><p>文章加密同样需要依赖支持：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">npm</span> <span class="string">install</span> <span class="string">--save</span> <span class="string">hexo-blog-encrypt</span></span><br></pre></td></tr></table></figure><p>在<code>主配置文件</code>中添加下面代码：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 安全</span></span><br><span class="line"><span class="attr">encrypt:</span> <span class="comment"># hexo-blog-encrypt</span></span><br><span class="line">  <span class="attr">abstract:</span> <span class="string">这里有东西被加密了，需要输入密码查看哦。</span></span><br><span class="line">  <span class="attr">message:</span> <span class="string">您好,</span> <span class="string">这里需要密码.</span></span><br><span class="line">  <span class="attr">tags:</span></span><br><span class="line">  <span class="bullet">-</span> &#123;<span class="attr">name:</span> <span class="string">tagName</span>, <span class="attr">password:</span> <span class="string">密码A</span>&#125;</span><br><span class="line">  <span class="bullet">-</span> &#123;<span class="attr">name:</span> <span class="string">tagName</span>, <span class="attr">password:</span> <span class="string">密码B</span>&#125;</span><br><span class="line">  <span class="attr">template:</span> <span class="string">&lt;div</span> <span class="string">id=&quot;hexo-blog-encrypt&quot;</span> <span class="string">data-wpm=&quot;&#123;&#123;hbeWrongPassMessage&#125;&#125;&quot;</span> <span class="string">data-whm=&quot;&#123;&#123;hbeWrongHashMessage&#125;&#125;&quot;&gt;&lt;div</span> <span class="string">class=&quot;hbe-input-container&quot;&gt;&lt;input</span> <span class="string">type=&quot;password&quot;</span> <span class="string">id=&quot;hbePass&quot;</span> <span class="string">placeholder=&quot;&#123;&#123;hbeMessage&#125;&#125;&quot;</span> <span class="string">/&gt;&lt;label&gt;&#123;&#123;hbeMessage&#125;&#125;&lt;/label&gt;&lt;div</span> <span class="string">class=&quot;bottom-line&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;script</span> <span class="string">id=&quot;hbeData&quot;</span> <span class="string">type=&quot;hbeData&quot;</span> <span class="string">data-hmacdigest=&quot;&#123;&#123;hbeHmacDigest&#125;&#125;&quot;&gt;&#123;&#123;hbeEncryptedData&#125;&#125;&lt;/script&gt;&lt;/div&gt;</span></span><br><span class="line">  <span class="attr">wrong_pass_message:</span> <span class="string">抱歉,</span> <span class="string">这个密码看着不太对,</span> <span class="string">请再试试.</span></span><br><span class="line">  <span class="attr">wrong_hash_message:</span> <span class="string">抱歉,</span> <span class="string">这个文章不能被校验,</span> <span class="string">不过您还是能看看解密后的内容.</span></span><br></pre></td></tr></table></figure><p>在文章中使用加密，在「头文件」中添加 <code>password</code> 关键词即可：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">password:</span> <span class="number">123456</span></span><br></pre></td></tr></table></figure><p><img src="https://github.com/choomoray/choomoray.github.io/blob/image/2023/静态博客Hexo安装使用教程/访问内容需要密码.png?raw=true" alt="访问内容需要密码"></p>              </div>            </details><details class="folding-tag" ><summary> 页面锚点 </summary>              <div class='content'>              <p>开启页面锚点后，当你在进行滚动时，页面链接会根据标题ID进行替换<br>(注意: 每替换一次，会留下一个历史记录。所以如果一篇文章有很多锚点的话，网页的历史记录会很多。)</p><p>修改 <code>主题配置文件</code></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># anchor</span></span><br><span class="line"><span class="attr">anchor:</span></span><br><span class="line">  <span class="comment"># when you scroll, the URL will update according to header id.</span></span><br><span class="line">  <span class="attr">auto_update:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment"># Click the headline to scroll and update the anchor</span></span><br><span class="line">  <span class="attr">click_to_scroll:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure>              </div>            </details><details class="folding-tag" ><summary> 插入本地图片 </summary>              <div class='content'>              <div class="note no-icon flat"><p><a href="https://hexo.io/zh-cn/docs/asset-folders">官方文档</a>简单易懂，要比网上一个答案到处抄来的靠谱（花了好几个小时也没成功）。总结一下：</p></div><p>首先要打开<code>主配置文档</code>中的<code>允许使用本地静态资源</code>：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">post_asset_folder:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p>然后在<code>source</code>文件夹下创建<code>images</code>文件，把图片放入images文件夹就可以了，引用格式如下：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">![</span><span class="string">图片描述](../images/....../1.png)</span></span><br></pre></td></tr></table></figure><div class="note info disabled"><p>需要注意的是：图片路径必须使用<code>/</code></p></div>              </div>            </details><details class="folding-tag" ><summary> 标签页 & 分类页 </summary>              <div class='content'>              <div class="note no-icon flat"><p>模板默认是没有标签页和分类页的，需要我们自己添加，非常简单，在命令行中分别敲入下面两行代码，<code>source</code> 目录下就会自动生成对应文件夹，里面的 index.md 就是对应文件</p></div><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">hexo</span> <span class="string">new</span> <span class="string">page</span> <span class="string">tags</span></span><br><span class="line"><span class="string">hexo</span> <span class="string">new</span> <span class="string">page</span> <span class="string">categories</span></span><br></pre></td></tr></table></figure><div class="note no-icon flat"><p>分类页和主页的背景图片</p></div><table>    <tr>        <td>配置</td>        <td>解释</td>    </tr>    <tr>        <td>index_img</td>        <td>主页的 top_img</td>    </tr>    <tr>        <td>default_top_img</td>        <td>默认的 top_img，当页面的 top_img 没有配置时，会显示 default_top_img</td>    </tr>    <tr>        <td>archive_img</td>        <td>归档页面的 top_img</td>    </tr>    <tr>        <td>tag_img</td>        <td>tag 子页面 的 默认 top_img</td>    </tr>    <tr>        <td>tag_per_img</td>        <td>tag 子页面的 top_img，可配置每个 tag 的 top_img</td>    </tr>    <tr>        <td>category_img</td>        <td>category 子页面 的 默认 top_img</td>    </tr>    <tr>        <td>category_per_img</td>        <td>category 子页面的 top_img，可配置每个 category 的 top_img</td>    </tr></table>              </div>            </details><details class="folding-tag" ><summary> 字数统计 </summary>              <div class='content'>              <p>要实现字数统计功能，需要安装依赖后重新编译：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">npm</span> <span class="string">install</span> <span class="string">hexo-wordcount</span> <span class="string">--save</span></span><br><span class="line"><span class="string">或</span> <span class="string">yarn</span> <span class="string">add</span> <span class="string">hexo-wordcount</span></span><br></pre></td></tr></table></figure><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># wordcount (字数统计)</span></span><br><span class="line"><span class="comment"># see https://butterfly.js.org/posts/ceeb73f/</span></span><br><span class="line"><span class="attr">wordcount:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">post_wordcount:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">min2read:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">total_wordcount:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>              </div>            </details></div><div class="tab-item-content"><details class="folding-tag" ><summary> 美化页面显示 </summary>              <div class='content'>              <div class="note info disabled"><p>文章中的标题H1H2…和分隔线等美化</p></div><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">beautify:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">field:</span> <span class="string">site</span> <span class="comment"># site/post</span></span><br><span class="line">  <span class="attr">title-prefix-icon:</span> <span class="comment"># &#x27;\f0c1&#x27;</span></span><br><span class="line">  <span class="attr">title-prefix-icon-color:</span> <span class="comment"># &#x27;#F47466&#x27;</span></span><br></pre></td></tr></table></figure>              </div>            </details><details class="folding-tag" ><summary> 代码块样式 & 显示行数限制 </summary>              <div class='content'>              <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">highlight_theme: light  # 代码块样式</span><br><span class="line">highlight_copy: true    # 右上角 复制按钮</span><br><span class="line">highlight_lang: true    # 显示代码语言</span><br><span class="line">highlight_shrink: false # 折叠代码块</span><br><span class="line">highlight_height_limit: 120 # unit: px # 代码块显示行数限制</span><br><span class="line">code_word_wrap: false   </span><br></pre></td></tr></table></figure>              </div>            </details> <details class="folding-tag" ><summary> 文章修改 </summary>              <div class='content'>              <figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">post_edit:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment"># url: https://github.com/user-name/repo-name/edit/branch-name/subdirectory-name/</span></span><br><span class="line">  <span class="comment"># For example: https://github.com/jerryc127/butterfly.js.org/edit/main/source/</span></span><br><span class="line">  <span class="attr">url:</span></span><br></pre></td></tr></table></figure>              </div>            </details> <details class="folding-tag" ><summary> 过期提醒 </summary>              <div class='content'>              <figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">noticeOutdate:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">style:</span> <span class="string">flat</span> <span class="comment"># style: simple/flat</span></span><br><span class="line">  <span class="attr">limit_day:</span> <span class="number">500</span> <span class="comment"># When will it be shown</span></span><br><span class="line">  <span class="attr">position:</span> <span class="string">top</span> <span class="comment"># position: top/bottom</span></span><br><span class="line">  <span class="attr">message_prev:</span> <span class="string">文章过期提示：本文最近更新于</span></span><br><span class="line">  <span class="attr">message_next:</span> <span class="string">天前，部分信息可能已经过时，请谨慎参考本文内容。</span></span><br></pre></td></tr></table></figure>              </div>            </details> <details class="folding-tag" ><summary> 版权声明 </summary>              <div class='content'>              <figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">post_copyright:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">decode:</span> <span class="literal">true</span><span class="comment"># 显示文字（默认全字母）</span></span><br><span class="line">  <span class="attr">author_href:</span></span><br><span class="line">  <span class="attr">license:</span> <span class="string">KFC-VME-50</span></span><br><span class="line">  <span class="attr">license_url:</span> <span class="string">https://choomoray.github.io/</span></span><br></pre></td></tr></table></figure>              </div>            </details> <details class="folding-tag" ><summary> 分享 </summary>              <div class='content'>              <figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Share System (分享)</span></span><br><span class="line"><span class="comment"># --------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Share.js</span></span><br><span class="line"><span class="comment"># https://github.com/overtrue/share.js</span></span><br><span class="line"><span class="attr">sharejs:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">sites:</span> <span class="string">facebook,twitter,wechat,weibo,qq</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># AddToAny</span></span><br><span class="line"><span class="comment"># https://www.addtoany.com/</span></span><br><span class="line"><span class="attr">addtoany:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">item:</span> <span class="string">facebook,twitter,wechat,sina_weibo,facebook_messenger,email,copy_link</span></span><br></pre></td></tr></table></figure>              </div>            </details> <details class="folding-tag" ><summary> 打赏 </summary>              <div class='content'>              <figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Sponsor/reward</span></span><br><span class="line"><span class="attr">reward:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">text:</span> </span><br><span class="line">  <span class="attr">QR_code:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">img:</span> <span class="string">https://github.com/choomoray/choomoray.github.io/blob/image/%E8%83%8C%E6%99%AF%E5%9B%BE/%E5%BE%AE%E4%BF%A1%E8%B5%9E%E8%B5%8F%E7%A0%81.png?raw=true</span></span><br><span class="line">      <span class="attr">link:</span> <span class="string">https://choomoray.github.io/</span></span><br><span class="line">      <span class="attr">text:</span> <span class="string">微信</span></span><br></pre></td></tr></table></figure>              </div>            </details></div></div><div class="tab-to-top"><button type="button" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div>]]></content>
      
    </entry>
    
    
  
</search>
